<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Modules &#8212; WebAssembly 3.0 (2025-10-03)</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=057308f9" />
    <script src="../_static/documentation_options.js?v=7335c639"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"tex": {"maxBuffer": 30720, "macros": {"multicolumn": ["", 2]}}, "options": {"menuOptions": {"settings": {"enrich": false}}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Execution" href="../exec/index.html" />
    <link rel="prev" title="Instructions" href="instructions.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/webassembly.png" alt="Logo of WebAssembly"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syntax/index.html">Structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Validation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="matching.html">Matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="instructions.html">Instructions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../exec/index.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary/index.html">Binary Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../text/index.html">Text Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-types.html">Index of Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-instructions.html">Index of Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-rules.html">Index of Semantic Rules</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="../genindex.html">Index</a></li>
    
    <li class="toctree-l1"><a href="../_download/WebAssembly.pdf">Download as PDF</a></li>
    
</ul>

<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="modules">
<h1>Modules<a class="headerlink" href="#modules" title="Link to this heading">¶</a></h1>
<p><a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">Modules</span></a> are valid when all the components they contain are valid.
To verify this, most definitions are themselves classified with a suitable type.</p>
<section id="types">
<span id="valid-types"></span><span id="valid-type"></span><span id="index-0"></span><h2>Types<a class="headerlink" href="#types" title="Link to this heading">¶</a></h2>
<p>The sequence of <a class="reference internal" href="../syntax/modules.html#syntax-type"><span class="std std-ref">types</span></a> defined in a module is validated incrementally, yielding a sequence of <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">defined types</span></a> representing them individually.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-type"><span class="std std-ref">type definition</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-type}{\mathsf{type}}~{\href{../syntax/types.html#syntax-rectype}{\mathit{rectype}}})\)</span> is <a class="reference internal" href="#valid-type"><span class="std std-ref">valid</span></a> with the defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}}^\ast}\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The length of <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{types}}\)</span> is equal to <span class="math notranslate nohighlight">\(x\)</span>.</p></li>
<li><p>The defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({{{{\href{../valid/conventions.html#aux-roll-deftype}{\mathrm{roll}}}}_{x}^\ast}}{({\href{../syntax/types.html#syntax-rectype}{\mathit{rectype}}})}\)</span>.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\({C'}\)</span> be the same context as <span class="math notranslate nohighlight">\(C\)</span>, but with the defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}}^\ast}\)</span> appended to the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{types}}\)</span>.</p></li>
<li><p>Under the context <span class="math notranslate nohighlight">\({C'}\)</span>, the <a class="reference internal" href="../syntax/types.html#syntax-rectype"><span class="std std-ref">recursive type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-rectype}{\mathit{rectype}}}\)</span> is <a class="reference internal" href="types.html#valid-rectype"><span class="std std-ref">valid</span></a> for the type index <span class="math notranslate nohighlight">\(x\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
x = {|C{.}\href{../valid/conventions.html#context}{\mathsf{types}}|}
 \qquad
{{\mathit{dt}}^\ast} = {{{{\href{../valid/conventions.html#aux-roll-deftype}{\mathrm{roll}}}}_{x}^\ast}}{({\href{../syntax/types.html#syntax-rectype}{\mathit{rectype}}})}
 \qquad
C \oplus \{ \href{../valid/conventions.html#context}{\mathsf{types}}~{{\mathit{dt}}^\ast} \} \href{../valid/types.html#valid-rectype}{\vdash} {\href{../syntax/types.html#syntax-rectype}{\mathit{rectype}}} : {\href{../valid/types.html#valid-subtype}{\mathsf{ok}}}{(x)}
}{
C \href{../valid/modules.html#valid-type}{\vdash} \href{../syntax/modules.html#syntax-type}{\mathsf{type}}~{\href{../syntax/types.html#syntax-rectype}{\mathit{rectype}}} : {{\mathit{dt}}^\ast}
}
\qquad
\end{array}\]</div>
<p>The type definition sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}\)</span> is <a class="reference internal" href="#valid-type"><span class="std std-ref">valid</span></a> with the defined type sequence <span class="math notranslate nohighlight">\({{\href{../valid/conventions.html#syntax-deftype}{\mathit{deftype}}}^\ast}\)</span> if:</p>
<blockquote>
<div><ul>
<li><p>Either:</p>
<blockquote>
<div><ul class="simple">
<li><p>The type definition sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}\)</span> is empty.</p></li>
<li><p>The defined type sequence <span class="math notranslate nohighlight">\({{\href{../valid/conventions.html#syntax-deftype}{\mathit{deftype}}}^\ast}\)</span> is empty.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Or:</p>
<blockquote>
<div><ul class="simple">
<li><p>The type definition sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}_1~{{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}'}^\ast}\)</span>.</p></li>
<li><p>The defined type sequence <span class="math notranslate nohighlight">\({{\href{../valid/conventions.html#syntax-deftype}{\mathit{deftype}}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({{\mathit{dt}}_1^\ast}~{{\mathit{dt}}^\ast}\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-type"><span class="std std-ref">type definition</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}_1\)</span> is <a class="reference internal" href="#valid-type"><span class="std std-ref">valid</span></a> with the defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}}_1^\ast}\)</span>.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\({C'}\)</span> be the same context as <span class="math notranslate nohighlight">\(C\)</span>, but with the defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}}_1^\ast}\)</span> appended to the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{types}}\)</span>.</p></li>
<li><p>Under the context <span class="math notranslate nohighlight">\({C'}\)</span>, the type definition sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}'}^\ast}\)</span> is <a class="reference internal" href="#valid-type"><span class="std std-ref">valid</span></a> with the defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}}^\ast}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
}{
C \href{../valid/modules.html#valid-types}{\vdash} \epsilon : \epsilon
}
\qquad
\frac{
C \href{../valid/modules.html#valid-type}{\vdash} {\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}_1 : {{\mathit{dt}}_1^\ast}
 \qquad
C \oplus \{ \href{../valid/conventions.html#context}{\mathsf{types}}~{{\mathit{dt}}_1^\ast} \} \href{../valid/modules.html#valid-types}{\vdash} {{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast} : {{\mathit{dt}}^\ast}
}{
C \href{../valid/modules.html#valid-types}{\vdash} {\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}_1~{{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast} : {{\mathit{dt}}_1^\ast}~{{\mathit{dt}}^\ast}
}
\qquad
\end{array}\]</div>
</section>
<section id="tags">
<span id="valid-tag"></span><span id="index-1"></span><h2>Tags<a class="headerlink" href="#tags" title="Link to this heading">¶</a></h2>
<p>Tags <span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}\)</span> are classified by their <a class="reference internal" href="../syntax/types.html#syntax-tagtype"><span class="std std-ref">tag types</span></a>,
which are <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">defined types</span></a> expanding to <a class="reference internal" href="../syntax/types.html#syntax-functype"><span class="std std-ref">function types</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-tag"><span class="std std-ref">tag</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-tag}{\mathsf{tag}}~{\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}})\)</span> is <a class="reference internal" href="#valid-tag"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-tagtype"><span class="std std-ref">tag type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}'}\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tagtype"><span class="std std-ref">tag type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}}\)</span> is <a class="reference internal" href="types.html#valid-tagtype"><span class="std std-ref">valid</span></a>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tagtype"><span class="std std-ref">tag type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}'}\)</span> is <span class="math notranslate nohighlight">\({{\href{../valid/conventions.html#aux-clostype}{\mathsf{clos}}}}_{C}({\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}})\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/types.html#valid-tagtype}{\vdash} {\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}} : \href{../valid/types.html#valid-tagtype}{\mathsf{ok}}
}{
C \href{../valid/modules.html#valid-tag}{\vdash} \href{../syntax/modules.html#syntax-tag}{\mathsf{tag}}~{\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}} : {{\href{../valid/conventions.html#aux-clostype}{\mathsf{clos}}}}_{C}({\href{../syntax/types.html#syntax-tagtype}{\mathit{tagtype}}})
}
\qquad
\end{array}\]</div>
</section>
<section id="globals">
<span id="valid-globalseq"></span><span id="valid-global"></span><span id="index-2"></span><h2>Globals<a class="headerlink" href="#globals" title="Link to this heading">¶</a></h2>
<p>Globals <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-global}{\mathit{global}}}\)</span> are classified by <a class="reference internal" href="../syntax/types.html#syntax-globaltype"><span class="std std-ref">global types</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-global"><span class="std std-ref">global</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-global}{\mathsf{global}}~{\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})\)</span> is <a class="reference internal" href="#valid-global"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}\)</span> is <a class="reference internal" href="types.html#valid-globaltype"><span class="std std-ref">valid</span></a>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}\)</span> is of the form <span class="math notranslate nohighlight">\(({\href{../syntax/types.html#syntax-mut}{\mathsf{mut}}^?}~t)\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/instructions.html#syntax-expr"><span class="std std-ref">expression</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is <a class="reference internal" href="instructions.html#valid-expr"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is constant.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/types.html#valid-globaltype}{\vdash} {\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}} : \href{../valid/types.html#valid-globaltype}{\mathsf{ok}}
 \qquad
{\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}} = {\href{../syntax/types.html#syntax-mut}{\mathsf{mut}}^?}~t
 \qquad
C \href{../valid/instructions.html#valid-const}{\vdash} {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : t~\href{../valid/instructions.html#valid-const}{\mathsf{const}}
}{
C \href{../valid/modules.html#valid-global}{\vdash} \href{../syntax/modules.html#syntax-global}{\mathsf{global}}~{\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}
}
\qquad
\end{array}\]</div>
<p>Sequences of globals are handled incrementally, such that each definition has access to previous definitions.</p>
<p>The global sequence <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}\)</span> is <a class="reference internal" href="#valid-global"><span class="std std-ref">valid</span></a> with the global type sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}^\ast}\)</span> if:</p>
<blockquote>
<div><ul>
<li><p>Either:</p>
<blockquote>
<div><ul class="simple">
<li><p>The global sequence <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}\)</span> is empty.</p></li>
<li><p>The global type sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}^\ast}\)</span> is empty.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Or:</p>
<blockquote>
<div><ul class="simple">
<li><p>The global sequence <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-global}{\mathit{global}}}_1~{{\href{../syntax/modules.html#syntax-global}{\mathit{global}}'}^\ast}\)</span>.</p></li>
<li><p>The global type sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-globaltype}{\mathit{globaltype}}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\mathit{gt}}_1~{{\mathit{gt}}^\ast}\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-global"><span class="std std-ref">global</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-global}{\mathit{global}}}_1\)</span> is <a class="reference internal" href="#valid-global"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate nohighlight">\({\mathit{gt}}_1\)</span>.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\({C'}\)</span> be the same context as <span class="math notranslate nohighlight">\(C\)</span>, but with the global type sequence <span class="math notranslate nohighlight">\({\mathit{gt}}_1\)</span> appended to the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{globals}}\)</span>.</p></li>
<li><p>Under the context <span class="math notranslate nohighlight">\({C'}\)</span>, the global sequence <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-global}{\mathit{global}}'}^\ast}\)</span> is <a class="reference internal" href="#valid-global"><span class="std std-ref">valid</span></a> with the global type sequence <span class="math notranslate nohighlight">\({{\mathit{gt}}^\ast}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
}{
C \href{../valid/modules.html#valid-globalseq}{\vdash} \epsilon : \epsilon
}
\qquad
\frac{
C \href{../valid/modules.html#valid-global}{\vdash} {\href{../syntax/modules.html#syntax-global}{\mathit{global}}}_1 : {\mathit{gt}}_1
 \qquad
C \oplus \{ \href{../valid/conventions.html#context}{\mathsf{globals}}~{\mathit{gt}}_1 \} \href{../valid/modules.html#valid-globalseq}{\vdash} {{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast} : {{\mathit{gt}}^\ast}
}{
C \href{../valid/modules.html#valid-globalseq}{\vdash} {\href{../syntax/modules.html#syntax-global}{\mathit{global}}}_1~{{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast} : {\mathit{gt}}_1~{{\mathit{gt}}^\ast}
}
\qquad
\end{array}\]</div>
</section>
<section id="memories">
<span id="valid-mem"></span><span id="index-3"></span><h2>Memories<a class="headerlink" href="#memories" title="Link to this heading">¶</a></h2>
<p>Memories <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}\)</span> are classified by <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory types</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-mem"><span class="std std-ref">memory</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-mem}{\mathsf{memory}}~{\href{../syntax/types.html#syntax-memtype}{\mathit{memtype}}})\)</span> is <a class="reference internal" href="#valid-mem"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-memtype}{\mathit{memtype}}}\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-memtype}{\mathit{memtype}}}\)</span> is <a class="reference internal" href="types.html#valid-memtype"><span class="std std-ref">valid</span></a>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/types.html#valid-memtype}{\vdash} {\href{../syntax/types.html#syntax-memtype}{\mathit{memtype}}} : \href{../valid/types.html#valid-memtype}{\mathsf{ok}}
}{
C \href{../valid/modules.html#valid-mem}{\vdash} \href{../syntax/modules.html#syntax-mem}{\mathsf{memory}}~{\href{../syntax/types.html#syntax-memtype}{\mathit{memtype}}} : {\href{../syntax/types.html#syntax-memtype}{\mathit{memtype}}}
}
\qquad
\end{array}\]</div>
</section>
<section id="tables">
<span id="valid-table"></span><span id="index-4"></span><h2>Tables<a class="headerlink" href="#tables" title="Link to this heading">¶</a></h2>
<p>Tables <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-table}{\mathit{table}}}\)</span> are classified by <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table types</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-table"><span class="std std-ref">table</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-table}{\mathsf{table}}~{\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}}~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})\)</span> is <a class="reference internal" href="#valid-table"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}}\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}}\)</span> is <a class="reference internal" href="types.html#valid-tabletype"><span class="std std-ref">valid</span></a>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}}\)</span> is of the form <span class="math notranslate nohighlight">\(({\mathit{at}}~{\mathit{lim}}~{\mathit{rt}})\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/instructions.html#syntax-expr"><span class="std std-ref">expression</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is <a class="reference internal" href="instructions.html#valid-expr"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate nohighlight">\({\mathit{rt}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is constant.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/types.html#valid-tabletype}{\vdash} {\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}} : \href{../valid/types.html#valid-tabletype}{\mathsf{ok}}
 \qquad
{\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}} = {\mathit{at}}~{\mathit{lim}}~{\mathit{rt}}
 \qquad
C \href{../valid/instructions.html#valid-const}{\vdash} {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {\mathit{rt}}~\href{../valid/instructions.html#valid-const}{\mathsf{const}}
}{
C \href{../valid/modules.html#valid-table}{\vdash} \href{../syntax/modules.html#syntax-table}{\mathsf{table}}~{\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}}~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {\href{../syntax/types.html#syntax-tabletype}{\mathit{tabletype}}}
}
\qquad
\end{array}\]</div>
</section>
<section id="functions">
<span id="valid-func"></span><span id="index-5"></span><h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h2>
<p>Functions <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-func}{\mathit{func}}}\)</span> are classified by <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">defined types</span></a> that <a class="reference internal" href="conventions.html#aux-expand-deftype"><span class="std std-ref">expand</span></a> to <a class="reference internal" href="../syntax/types.html#syntax-functype"><span class="std std-ref">function types</span></a> of the form <span class="math notranslate nohighlight">\(\href{../syntax/types.html#syntax-comptype}{\mathsf{func}}~{t_1^\ast} \href{../syntax/types.html#syntax-comptype}{\rightarrow} {t_2^\ast}\)</span>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-func"><span class="std std-ref">function</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-func}{\mathsf{func}}~x~{{\href{../syntax/modules.html#syntax-local}{\mathit{local}}}^\ast}~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})\)</span> is <a class="reference internal" href="#valid-func"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">type</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{types}}{}[x]\)</span> if:</p>
<blockquote>
<div><ul>
<li><p>The <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">type</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{types}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="conventions.html#aux-expand-deftype"><span class="std std-ref">expansion</span></a> of <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{types}}{}[x]\)</span> is <span class="math notranslate nohighlight">\((\href{../syntax/types.html#syntax-comptype}{\mathsf{func}}~{t_1^\ast}~\href{../syntax/types.html#syntax-comptype}{\rightarrow}~{t_2^\ast})\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-local}{\mathit{local}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-local}{\mathit{local}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-local"><span class="std std-ref">local</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-local}{\mathit{local}}}\)</span> is <a class="reference internal" href="#valid-local"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="conventions.html#syntax-localtype"><span class="std std-ref">local type</span></a> <span class="math notranslate nohighlight">\({{\mathit{lt}}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{{\mathit{lt}}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({{\mathit{lt}}}\)</span>.</p></li>
<li><p>Under the context <span class="math notranslate nohighlight">\(C\)</span> with the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{locals}}\)</span> appended by <span class="math notranslate nohighlight">\({(\href{../valid/conventions.html#syntax-init}{\mathsf{set}}~t_1)^\ast}~{{{\mathit{lt}}}^\ast}\)</span> and the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{labels}}\)</span> appended by <span class="math notranslate nohighlight">\({t_2^\ast}\)</span> and the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{return}}\)</span> appended by <span class="math notranslate nohighlight">\({t_2^\ast}\)</span>, the <a class="reference internal" href="../syntax/instructions.html#syntax-expr"><span class="std std-ref">expression</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is <a class="reference internal" href="instructions.html#valid-expr"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate nohighlight">\({t_2^\ast}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
\begin{array}{&#64;{}c&#64;{}}
C{.}\href{../valid/conventions.html#context}{\mathsf{types}}{}[x] \mathrel{\href{../valid/conventions.html#aux-expand-deftype}{\approx}} \href{../syntax/types.html#syntax-comptype}{\mathsf{func}}~{t_1^\ast} \href{../syntax/types.html#syntax-comptype}{\rightarrow} {t_2^\ast}
 \qquad
(C \href{../valid/modules.html#valid-local}{\vdash} {\href{../syntax/modules.html#syntax-local}{\mathit{local}}} : {{\mathit{lt}}})^\ast
 \\
C \oplus \{ \href{../valid/conventions.html#context}{\mathsf{locals}}~{(\href{../valid/conventions.html#syntax-init}{\mathsf{set}}~t_1)^\ast}~{{{\mathit{lt}}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{labels}}~({t_2^\ast}),\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{return}}~({t_2^\ast}) \} \href{../valid/instructions.html#valid-expr}{\vdash} {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {t_2^\ast}
\end{array}
}{
C \href{../valid/modules.html#valid-func}{\vdash} \href{../syntax/modules.html#syntax-func}{\mathsf{func}}~x~{{\href{../syntax/modules.html#syntax-local}{\mathit{local}}}^\ast}~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : C{.}\href{../valid/conventions.html#context}{\mathsf{types}}{}[x]
}
\qquad
\end{array}\end{split}\]</div>
</section>
<section id="locals">
<span id="valid-local"></span><span id="index-6"></span><h2>Locals<a class="headerlink" href="#locals" title="Link to this heading">¶</a></h2>
<p>Locals <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-local}{\mathit{local}}}\)</span> are classified with <a class="reference internal" href="conventions.html#syntax-localtype"><span class="std std-ref">local types</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-local"><span class="std std-ref">local</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-local}{\mathsf{local}}~t)\)</span> is <a class="reference internal" href="#valid-local"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="conventions.html#syntax-localtype"><span class="std std-ref">local type</span></a> <span class="math notranslate nohighlight">\(({\href{../valid/conventions.html#syntax-init}{\mathit{init}}}~t)\)</span> if:</p>
<blockquote>
<div><ul>
<li><p>Either:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="conventions.html#syntax-init"><span class="std std-ref">initialization status</span></a> <span class="math notranslate nohighlight">\({\href{../valid/conventions.html#syntax-init}{\mathit{init}}}\)</span> is of the form <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#syntax-init}{\mathsf{set}}\)</span>.</p></li>
<li><p>A <a class="reference internal" href="../exec/runtime.html#aux-default"><span class="std std-ref">default value</span></a> for <span class="math notranslate nohighlight">\(t\)</span> is defined.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Or:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="conventions.html#syntax-init"><span class="std std-ref">initialization status</span></a> <span class="math notranslate nohighlight">\({\href{../valid/conventions.html#syntax-init}{\mathit{init}}}\)</span> is of the form <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#syntax-init}{\mathsf{unset}}\)</span>.</p></li>
<li><p>A <a class="reference internal" href="../exec/runtime.html#aux-default"><span class="std std-ref">default value</span></a> for <span class="math notranslate nohighlight">\(t\)</span> is not defined.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
{{\href{../exec/runtime.html#aux-default}{\mathrm{default}}}}_{t} \neq \epsilon
}{
C \href{../valid/modules.html#valid-local}{\vdash} \href{../syntax/modules.html#syntax-local}{\mathsf{local}}~t : \href{../valid/conventions.html#syntax-init}{\mathsf{set}}~t
}
\qquad
\frac{
{{\href{../exec/runtime.html#aux-default}{\mathrm{default}}}}_{t} = \epsilon
}{
C \href{../valid/modules.html#valid-local}{\vdash} \href{../syntax/modules.html#syntax-local}{\mathsf{local}}~t : \href{../valid/conventions.html#syntax-init}{\mathsf{unset}}~t
}
\qquad
\end{array}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For cases where both rules are applicable, the former yields the more permissable type.</p>
</div>
</section>
<section id="data-segments">
<span id="valid-data"></span><span id="index-7"></span><h2>Data Segments<a class="headerlink" href="#data-segments" title="Link to this heading">¶</a></h2>
<p>Data segments <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-data}{\mathit{data}}}\)</span> are classified by the singleton <a class="reference internal" href="../syntax/types.html#syntax-datatype"><span class="std std-ref">data type</span></a>, which merely expresses well-formedness.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-data"><span class="std std-ref">memory segment</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-data}{\mathsf{data}}~{b^\ast}~{\href{../syntax/modules.html#syntax-datamode}{\mathit{datamode}}})\)</span> is <a class="reference internal" href="#valid-data"><span class="std std-ref">valid</span></a> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-datamode"><span class="std std-ref">data mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-datamode}{\mathit{datamode}}}\)</span> is <a class="reference internal" href="#valid-datamode"><span class="std std-ref">valid</span></a>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/modules.html#valid-datamode}{\vdash} {\href{../syntax/modules.html#syntax-datamode}{\mathit{datamode}}} : \href{../valid/modules.html#valid-data}{\mathsf{ok}}
}{
C \href{../valid/modules.html#valid-data}{\vdash} \href{../syntax/modules.html#syntax-data}{\mathsf{data}}~{b^\ast}~{\href{../syntax/modules.html#syntax-datamode}{\mathit{datamode}}} : \href{../valid/modules.html#valid-data}{\mathsf{ok}}
}
\qquad
\end{array}\]</div>
<p id="valid-datamode">The <a class="reference internal" href="../syntax/modules.html#syntax-datamode"><span class="std std-ref">data mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-datamode}{\mathit{datamode}}}\)</span> is <a class="reference internal" href="#valid-datamode"><span class="std std-ref">valid</span></a> if:</p>
<blockquote>
<div><ul>
<li><p>Either:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-datamode"><span class="std std-ref">data mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-datamode}{\mathit{datamode}}}\)</span> is of the form <span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-datamode}{\mathsf{passive}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Or:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-datamode"><span class="std std-ref">data mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-datamode}{\mathit{datamode}}}\)</span> is of the form <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-datamode}{\mathsf{active}}~x~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{mems}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{mems}}{}[x]\)</span> is of the form <span class="math notranslate nohighlight">\(({\mathit{at}}~{\mathit{lim}}~\href{../syntax/types.html#syntax-memtype}{\mathsf{page}})\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/instructions.html#syntax-expr"><span class="std std-ref">expression</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is <a class="reference internal" href="instructions.html#valid-expr"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate nohighlight">\({\mathit{at}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is constant.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
}{
C \href{../valid/modules.html#valid-datamode}{\vdash} \href{../syntax/modules.html#syntax-datamode}{\mathsf{passive}} : \href{../valid/modules.html#valid-data}{\mathsf{ok}}
}
\qquad
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{mems}}{}[x] = {\mathit{at}}~{\mathit{lim}}~\href{../syntax/types.html#syntax-memtype}{\mathsf{page}}
 \qquad
C \href{../valid/instructions.html#valid-const}{\vdash} {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {\mathit{at}}~\href{../valid/instructions.html#valid-const}{\mathsf{const}}
}{
C \href{../valid/modules.html#valid-datamode}{\vdash} \href{../syntax/modules.html#syntax-datamode}{\mathsf{active}}~x~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : \href{../valid/modules.html#valid-data}{\mathsf{ok}}
}
\qquad
\end{array}\]</div>
</section>
<section id="element-segments">
<span id="valid-elem"></span><span id="index-8"></span><h2>Element Segments<a class="headerlink" href="#element-segments" title="Link to this heading">¶</a></h2>
<p>Element segments <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}\)</span> are classified by their <a class="reference internal" href="../syntax/types.html#syntax-elemtype"><span class="std std-ref">element type</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-elem"><span class="std std-ref">table segment</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~{\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}~{{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}^\ast}~{\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}})\)</span> is <a class="reference internal" href="#valid-elem"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-elemtype"><span class="std std-ref">element type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}\)</span> if:</p>
<blockquote>
<div><ul>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-reftype"><span class="std std-ref">reference type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}\)</span> is <a class="reference internal" href="types.html#valid-reftype"><span class="std std-ref">valid</span></a>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/instructions.html#syntax-expr"><span class="std std-ref">expression</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is <a class="reference internal" href="instructions.html#valid-expr"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is constant.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-elemmode"><span class="std std-ref">element mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}}\)</span> is <a class="reference internal" href="#valid-elemmode"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-elemtype"><span class="std std-ref">element type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/types.html#valid-reftype}{\vdash} {\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}} : \href{../valid/types.html#valid-reftype}{\mathsf{ok}}
 \qquad
(C \href{../valid/instructions.html#valid-const}{\vdash} {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}~\href{../valid/instructions.html#valid-const}{\mathsf{const}})^\ast
 \qquad
C \href{../valid/modules.html#valid-elemmode}{\vdash} {\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}} : {\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}
}{
C \href{../valid/modules.html#valid-elem}{\vdash} \href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~{\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}~{{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}^\ast}~{\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}} : {\href{../syntax/types.html#syntax-elemtype}{\mathit{elemtype}}}
}
\qquad
\end{array}\]</div>
<p id="valid-elemmode">The <a class="reference internal" href="../syntax/modules.html#syntax-elemmode"><span class="std std-ref">element mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}}\)</span> is <a class="reference internal" href="#valid-elemmode"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-elemtype"><span class="std std-ref">element type</span></a> <span class="math notranslate nohighlight">\({\mathit{rt}}\)</span> if:</p>
<blockquote>
<div><ul>
<li><p>Either:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-elemmode"><span class="std std-ref">element mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}}\)</span> is of the form <span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-elemmode}{\mathsf{passive}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Or:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-elemmode"><span class="std std-ref">element mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}}\)</span> is of the form <span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-elemmode}{\mathsf{declare}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Or:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-elemmode"><span class="std std-ref">element mode</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elemmode}{\mathit{elemmode}}}\)</span> is of the form <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-elemmode}{\mathsf{active}}~x~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{tables}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{tables}}{}[x]\)</span> is of the form <span class="math notranslate nohighlight">\(({\mathit{at}}~{\mathit{lim}}~{\mathit{rt}'})\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-reftype"><span class="std std-ref">reference type</span></a> <span class="math notranslate nohighlight">\({\mathit{rt}}\)</span> <a class="reference internal" href="matching.html#match-reftype"><span class="std std-ref">matches</span></a> the <a class="reference internal" href="../syntax/types.html#syntax-reftype"><span class="std std-ref">reference type</span></a> <span class="math notranslate nohighlight">\({\mathit{rt}'}\)</span>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/instructions.html#syntax-expr"><span class="std std-ref">expression</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is <a class="reference internal" href="instructions.html#valid-expr"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate nohighlight">\({\mathit{at}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}}\)</span> is constant.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
}{
C \href{../valid/modules.html#valid-elemmode}{\vdash} \href{../syntax/modules.html#syntax-elemmode}{\mathsf{passive}} : {\mathit{rt}}
}
\qquad
\frac{
}{
C \href{../valid/modules.html#valid-elemmode}{\vdash} \href{../syntax/modules.html#syntax-elemmode}{\mathsf{declare}} : {\mathit{rt}}
}
\\[3ex]\displaystyle
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{tables}}{}[x] = {\mathit{at}}~{\mathit{lim}}~{\mathit{rt}'}
 \qquad
C \href{../valid/matching.html#match-reftype}{\vdash} {\mathit{rt}} \href{../valid/matching.html#match-reftype}{\leq} {\mathit{rt}'}
 \qquad
C \href{../valid/instructions.html#valid-const}{\vdash} {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {\mathit{at}}~\href{../valid/instructions.html#valid-const}{\mathsf{const}}
}{
C \href{../valid/modules.html#valid-elemmode}{\vdash} \href{../syntax/modules.html#syntax-elemmode}{\mathsf{active}}~x~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}} : {\mathit{rt}}
}
\qquad
\end{array}\end{split}\]</div>
</section>
<section id="start-function">
<span id="valid-start"></span><span id="index-9"></span><h2>Start Function<a class="headerlink" href="#start-function" title="Link to this heading">¶</a></h2>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-start"><span class="std std-ref">start function</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-start}{\mathsf{start}}~x)\)</span> is <a class="reference internal" href="#valid-start"><span class="std std-ref">valid</span></a> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">function</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{funcs}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="conventions.html#aux-expand-deftype"><span class="std std-ref">expansion</span></a> of <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{funcs}}{}[x]\)</span> is <span class="math notranslate nohighlight">\((\href{../syntax/types.html#syntax-comptype}{\mathsf{func}}~\href{../syntax/types.html#syntax-comptype}{\rightarrow})\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{funcs}}{}[x] \mathrel{\href{../valid/conventions.html#aux-expand-deftype}{\approx}} \href{../syntax/types.html#syntax-comptype}{\mathsf{func}}~\epsilon \href{../syntax/types.html#syntax-comptype}{\rightarrow} \epsilon
}{
C \href{../valid/modules.html#valid-start}{\vdash} \href{../syntax/modules.html#syntax-start}{\mathsf{start}}~x : \href{../valid/modules.html#valid-start}{\mathsf{ok}}
}
\qquad
\end{array}\]</div>
</section>
<section id="imports">
<span id="valid-import"></span><span id="valid-importdesc"></span><span id="index-10"></span><h2>Imports<a class="headerlink" href="#imports" title="Link to this heading">¶</a></h2>
<p>Imports <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-import}{\mathit{import}}}\)</span> are classified by <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external types</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-import"><span class="std std-ref">import</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-import}{\mathsf{import}}~{\href{../syntax/values.html#syntax-name}{\mathit{name}}}_1~{\href{../syntax/values.html#syntax-name}{\mathit{name}}}_2~{\mathit{xt}})\)</span> is <a class="reference internal" href="#valid-import"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-externtype}{\mathit{externtype}}}\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\({\mathit{xt}}\)</span> is <a class="reference internal" href="types.html#valid-externtype"><span class="std std-ref">valid</span></a>.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-externtype}{\mathit{externtype}}}\)</span> is <span class="math notranslate nohighlight">\({{\href{../valid/conventions.html#aux-clostype}{\mathsf{clos}}}}_{C}({\mathit{xt}})\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/types.html#valid-externtype}{\vdash} {\mathit{xt}} : \href{../valid/types.html#valid-externtype}{\mathsf{ok}}
}{
C \href{../valid/modules.html#valid-import}{\vdash} \href{../syntax/modules.html#syntax-import}{\mathsf{import}}~{\href{../syntax/values.html#syntax-name}{\mathit{name}}}_1~{\href{../syntax/values.html#syntax-name}{\mathit{name}}}_2~{\mathit{xt}} : {{\href{../valid/conventions.html#aux-clostype}{\mathsf{clos}}}}_{C}({\mathit{xt}})
}
\qquad
\end{array}\]</div>
</section>
<section id="exports">
<span id="valid-externidx"></span><span id="valid-export"></span><span id="valid-exportdesc"></span><span id="index-11"></span><h2>Exports<a class="headerlink" href="#exports" title="Link to this heading">¶</a></h2>
<p>Exports <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-export}{\mathit{export}}}\)</span> are classified by their <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a>.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-export"><span class="std std-ref">export</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-export}{\mathsf{export}}~{\href{../syntax/values.html#syntax-name}{\mathit{name}}}~{\href{../syntax/modules.html#syntax-externidx}{\mathit{externidx}}})\)</span> is <a class="reference internal" href="#valid-export"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/values.html#syntax-name"><span class="std std-ref">name</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/values.html#syntax-name}{\mathit{name}}}\)</span> and the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\({\mathit{xt}}\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-externidx"><span class="std std-ref">external index</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-externidx}{\mathit{externidx}}}\)</span> is <a class="reference internal" href="#valid-externidx"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\({\mathit{xt}}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C \href{../valid/modules.html#valid-externidx}{\vdash} {\href{../syntax/modules.html#syntax-externidx}{\mathit{externidx}}} : {\mathit{xt}}
}{
C \href{../valid/modules.html#valid-export}{\vdash} \href{../syntax/modules.html#syntax-export}{\mathsf{export}}~{\href{../syntax/values.html#syntax-name}{\mathit{name}}}~{\href{../syntax/modules.html#syntax-externidx}{\mathit{externidx}}} : {\href{../syntax/values.html#syntax-name}{\mathit{name}}}~{\mathit{xt}}
}
\qquad
\end{array}\]</div>
<section id="xref-syntax-modules-syntax-externidx-mathsf-tag-x">
<h3><span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-externidx}{\mathsf{tag}}~x\)</span><a class="headerlink" href="#xref-syntax-modules-syntax-externidx-mathsf-tag-x" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-externidx"><span class="std std-ref">external index</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-externidx}{\mathsf{tag}}~x)\)</span> is <a class="reference internal" href="#valid-externidx"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/types.html#syntax-externtype}{\mathsf{tag}}~{\mathit{jt}})\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tagtype"><span class="std std-ref">tag</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{tags}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tagtype"><span class="std std-ref">tag</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{tags}}{}[x]\)</span> is of the form <span class="math notranslate nohighlight">\({\mathit{jt}}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{tags}}{}[x] = {\mathit{jt}}
}{
C \href{../valid/modules.html#valid-externidx}{\vdash} \href{../syntax/modules.html#syntax-externidx}{\mathsf{tag}}~x : \href{../syntax/types.html#syntax-externtype}{\mathsf{tag}}~{\mathit{jt}}
}
\qquad
\end{array}\]</div>
</section>
<section id="xref-syntax-modules-syntax-externidx-mathsf-global-x">
<h3><span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-externidx}{\mathsf{global}}~x\)</span><a class="headerlink" href="#xref-syntax-modules-syntax-externidx-mathsf-global-x" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-externidx"><span class="std std-ref">external index</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-externidx}{\mathsf{global}}~x)\)</span> is <a class="reference internal" href="#valid-externidx"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/types.html#syntax-externtype}{\mathsf{global}}~{\mathit{gt}})\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-globaltype"><span class="std std-ref">global</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{globals}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-globaltype"><span class="std std-ref">global</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{globals}}{}[x]\)</span> is of the form <span class="math notranslate nohighlight">\({\mathit{gt}}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{globals}}{}[x] = {\mathit{gt}}
}{
C \href{../valid/modules.html#valid-externidx}{\vdash} \href{../syntax/modules.html#syntax-externidx}{\mathsf{global}}~x : \href{../syntax/types.html#syntax-externtype}{\mathsf{global}}~{\mathit{gt}}
}
\qquad
\end{array}\]</div>
</section>
<section id="xref-syntax-modules-syntax-externidx-mathsf-memory-x">
<h3><span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-externidx}{\mathsf{memory}}~x\)</span><a class="headerlink" href="#xref-syntax-modules-syntax-externidx-mathsf-memory-x" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-externidx"><span class="std std-ref">external index</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-externidx}{\mathsf{memory}}~x)\)</span> is <a class="reference internal" href="#valid-externidx"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/types.html#syntax-externtype}{\mathsf{mem}}~{\mathit{mt}})\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{mems}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{mems}}{}[x]\)</span> is of the form <span class="math notranslate nohighlight">\({\mathit{mt}}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{mems}}{}[x] = {\mathit{mt}}
}{
C \href{../valid/modules.html#valid-externidx}{\vdash} \href{../syntax/modules.html#syntax-externidx}{\mathsf{memory}}~x : \href{../syntax/types.html#syntax-externtype}{\mathsf{mem}}~{\mathit{mt}}
}
\qquad
\end{array}\]</div>
</section>
<section id="xref-syntax-modules-syntax-externidx-mathsf-table-x">
<h3><span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-externidx}{\mathsf{table}}~x\)</span><a class="headerlink" href="#xref-syntax-modules-syntax-externidx-mathsf-table-x" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-externidx"><span class="std std-ref">external index</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-externidx}{\mathsf{table}}~x)\)</span> is <a class="reference internal" href="#valid-externidx"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/types.html#syntax-externtype}{\mathsf{table}}~{\mathit{tt}})\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{tables}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{tables}}{}[x]\)</span> is of the form <span class="math notranslate nohighlight">\({\mathit{tt}}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{tables}}{}[x] = {\mathit{tt}}
}{
C \href{../valid/modules.html#valid-externidx}{\vdash} \href{../syntax/modules.html#syntax-externidx}{\mathsf{table}}~x : \href{../syntax/types.html#syntax-externtype}{\mathsf{table}}~{\mathit{tt}}
}
\qquad
\end{array}\]</div>
</section>
<section id="xref-syntax-modules-syntax-externidx-mathsf-func-x">
<h3><span class="math notranslate nohighlight">\(\href{../syntax/modules.html#syntax-externidx}{\mathsf{func}}~x\)</span><a class="headerlink" href="#xref-syntax-modules-syntax-externidx-mathsf-func-x" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-externidx"><span class="std std-ref">external index</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-externidx}{\mathsf{func}}~x)\)</span> is <a class="reference internal" href="#valid-externidx"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/types.html#syntax-externtype}{\mathsf{func}}~{\mathit{dt}})\)</span> if:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">function</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{funcs}}{}[x]\)</span> exists.</p></li>
<li><p>The <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">function</span></a> <span class="math notranslate nohighlight">\(C{.}\href{../valid/conventions.html#context}{\mathsf{funcs}}{}[x]\)</span> is of the form <span class="math notranslate nohighlight">\({\mathit{dt}}\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
C{.}\href{../valid/conventions.html#context}{\mathsf{funcs}}{}[x] = {\mathit{dt}}
}{
C \href{../valid/modules.html#valid-externidx}{\vdash} \href{../syntax/modules.html#syntax-externidx}{\mathsf{func}}~x : \href{../syntax/types.html#syntax-externtype}{\mathsf{func}}~{\mathit{dt}}
}
\qquad
\end{array}\]</div>
</section>
</section>
<section id="syntax-moduletype">
<span id="valid-module"></span><span id="index-12"></span><span id="id1"></span><h2>Modules<a class="headerlink" href="#syntax-moduletype" title="Link to this heading">¶</a></h2>
<p>Modules are classified by their mapping from the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external types</span></a> of their <a class="reference internal" href="../syntax/modules.html#syntax-import"><span class="std std-ref">imports</span></a> to those of their <a class="reference internal" href="../syntax/modules.html#syntax-export"><span class="std std-ref">exports</span></a>.</p>
<p>A module is entirely <em>closed</em>,
that is, its components can only refer to definitions that appear in the module itself.
Consequently, no initial <a class="reference internal" href="conventions.html#context"><span class="std std-ref">context</span></a> is required.
Instead, the <a class="reference internal" href="conventions.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate nohighlight">\(C\)</span> for validation of the module’s content is constructed from the definitions in the module.</p>
<p>The <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a> <span class="math notranslate nohighlight">\((\href{../syntax/modules.html#syntax-module}{\mathsf{module}}~{{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}~{{\href{../syntax/modules.html#syntax-import}{\mathit{import}}}^\ast}~{{\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}^\ast}~{{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}~{{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}~{{\href{../syntax/modules.html#syntax-table}{\mathit{table}}}^\ast}~{{\href{../syntax/modules.html#syntax-func}{\mathit{func}}}^\ast}~{{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast}~{{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast}~{{\href{../syntax/modules.html#syntax-start}{\mathit{start}}}^?}~{{\href{../syntax/modules.html#syntax-export}{\mathit{export}}}^\ast})\)</span> is <a class="reference internal" href="#valid-module"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="#syntax-moduletype"><span class="std std-ref">module type</span></a> <span class="math notranslate nohighlight">\({\href{../valid/modules.html#syntax-moduletype}{\mathit{moduletype}}}\)</span> if:</p>
<blockquote>
<div><ul>
<li><p>Under the context <span class="math notranslate nohighlight">\(\{ \href{../valid/conventions.html#context}{\mathsf{return}}~\epsilon \}\)</span>, the type definition sequence <span class="math notranslate nohighlight">\({{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}\)</span> is <a class="reference internal" href="#valid-type"><span class="std std-ref">valid</span></a> with the defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}'}^\ast}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-import}{\mathit{import}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-import}{\mathit{import}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Under the context <span class="math notranslate nohighlight">\(\{ \href{../valid/conventions.html#context}{\mathsf{types}}~{{\mathit{dt}'}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{return}}~\epsilon \}\)</span>, the <a class="reference internal" href="../syntax/modules.html#syntax-import"><span class="std std-ref">import</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-import}{\mathit{import}}}\)</span> is <a class="reference internal" href="#valid-import"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\({\mathit{xt}}_{\mathsf{i}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{xt}}_{\mathsf{i}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{xt}}_{\mathsf{i}}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Under the context <span class="math notranslate nohighlight">\({C'}\)</span>, the <a class="reference internal" href="../syntax/modules.html#syntax-tag"><span class="std std-ref">tag</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}\)</span> is <a class="reference internal" href="#valid-tag"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-tagtype"><span class="std std-ref">tag type</span></a> <span class="math notranslate nohighlight">\({\mathit{jt}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{jt}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{jt}}\)</span>.</p></li>
<li><p>Under the context <span class="math notranslate nohighlight">\({C'}\)</span>, the global sequence <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}\)</span> is <a class="reference internal" href="#valid-global"><span class="std std-ref">valid</span></a> with the global type sequence <span class="math notranslate nohighlight">\({{\mathit{gt}}^\ast}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Under the context <span class="math notranslate nohighlight">\({C'}\)</span>, the <a class="reference internal" href="../syntax/modules.html#syntax-mem"><span class="std std-ref">memory</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}\)</span> is <a class="reference internal" href="#valid-mem"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate nohighlight">\({\mathit{mt}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{mt}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{mt}}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-table}{\mathit{table}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-table}{\mathit{table}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Under the context <span class="math notranslate nohighlight">\({C'}\)</span>, the <a class="reference internal" href="../syntax/modules.html#syntax-table"><span class="std std-ref">table</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-table}{\mathit{table}}}\)</span> is <a class="reference internal" href="#valid-table"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate nohighlight">\({\mathit{tt}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{tt}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{tt}}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-func}{\mathit{func}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-func}{\mathit{func}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-func"><span class="std std-ref">function</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-func}{\mathit{func}}}\)</span> is <a class="reference internal" href="#valid-func"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="conventions.html#syntax-deftype"><span class="std std-ref">defined type</span></a> <span class="math notranslate nohighlight">\({\mathit{dt}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{dt}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{dt}}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-data}{\mathit{data}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-data"><span class="std std-ref">memory segment</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-data}{\mathit{data}}}\)</span> is <a class="reference internal" href="#valid-data"><span class="std std-ref">valid</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{ok}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{ok}}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-elem"><span class="std std-ref">table segment</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}\)</span> is <a class="reference internal" href="#valid-elem"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/types.html#syntax-elemtype"><span class="std std-ref">element type</span></a> <span class="math notranslate nohighlight">\({\mathit{rt}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{rt}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{rt}}\)</span>.</p></li>
<li><p>If <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-start}{\mathit{start}}}\)</span> is defined, then:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-start"><span class="std std-ref">start function</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-start}{\mathit{start}}}\)</span> is <a class="reference internal" href="#valid-start"><span class="std std-ref">valid</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>For all <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-export}{\mathit{export}}}\)</span> in <span class="math notranslate nohighlight">\({{\href{../syntax/modules.html#syntax-export}{\mathit{export}}}^\ast}\)</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference internal" href="../syntax/modules.html#syntax-export"><span class="std std-ref">export</span></a> <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-export}{\mathit{export}}}\)</span> is <a class="reference internal" href="#valid-export"><span class="std std-ref">valid</span></a> with the <a class="reference internal" href="../syntax/values.html#syntax-name"><span class="std std-ref">name</span></a> <span class="math notranslate nohighlight">\({\mathit{nm}}\)</span> and the <a class="reference internal" href="../syntax/types.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate nohighlight">\({\mathit{xt}}_{\mathsf{e}}\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{nm}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{nm}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{xt}}_{\mathsf{e}}^\ast}\)</span> is the concatenation of all such <span class="math notranslate nohighlight">\({\mathit{xt}}_{\mathsf{e}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({{\mathit{nm}}^\ast}~{\mathrm{disjoint}}\)</span> is true.</p></li>
<li><p>The <a class="reference internal" href="conventions.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate nohighlight">\(C\)</span> is of the form <span class="math notranslate nohighlight">\({C'}\)</span> with the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{tags}}\)</span> appended by <span class="math notranslate nohighlight">\({{\mathit{jt}}_{\mathsf{i}}^\ast}~{{\mathit{jt}}^\ast}\)</span> and the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{globals}}\)</span> appended by <span class="math notranslate nohighlight">\({{\mathit{gt}}^\ast}\)</span> and the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{mems}}\)</span> appended by <span class="math notranslate nohighlight">\({{\mathit{mt}}_{\mathsf{i}}^\ast}~{{\mathit{mt}}^\ast}\)</span> and the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{tables}}\)</span> appended by <span class="math notranslate nohighlight">\({{\mathit{tt}}_{\mathsf{i}}^\ast}~{{\mathit{tt}}^\ast}\)</span> and the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{datas}}\)</span> appended by <span class="math notranslate nohighlight">\({{\mathit{ok}}^\ast}\)</span> and the field <span class="math notranslate nohighlight">\(\href{../valid/conventions.html#context}{\mathsf{elems}}\)</span> appended by <span class="math notranslate nohighlight">\({{\mathit{rt}}^\ast}\)</span>.</p></li>
<li><p>The <a class="reference internal" href="conventions.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate nohighlight">\({C'}\)</span> is of the form <span class="math notranslate nohighlight">\(\{ \href{../valid/conventions.html#context}{\mathsf{types}}~{{\mathit{dt}'}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{globals}}~{{\mathit{gt}}_{\mathsf{i}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{funcs}}~{{\mathit{dt}}_{\mathsf{i}}^\ast}~{{\mathit{dt}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{return}}~\epsilon,\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{refs}}~{x^\ast} \}\)</span>.</p></li>
<li><p>The function index sequence <span class="math notranslate nohighlight">\({x^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/modules.html#syntax-funcidx}{\mathrm{funcidx}}}({{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}~{{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}~{{\href{../syntax/modules.html#syntax-table}{\mathit{table}}}^\ast}~{{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast})\)</span>.</p></li>
<li><p>The tag type sequence <span class="math notranslate nohighlight">\({{\mathit{jt}}_{\mathsf{i}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-externtype}{\mathrm{tags}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})\)</span>.</p></li>
<li><p>The global type sequence <span class="math notranslate nohighlight">\({{\mathit{gt}}_{\mathsf{i}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-externtype}{\mathrm{globals}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})\)</span>.</p></li>
<li><p>The memory type sequence <span class="math notranslate nohighlight">\({{\mathit{mt}}_{\mathsf{i}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-externtype}{\mathrm{mems}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})\)</span>.</p></li>
<li><p>The table type sequence <span class="math notranslate nohighlight">\({{\mathit{tt}}_{\mathsf{i}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-externtype}{\mathrm{tables}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})\)</span>.</p></li>
<li><p>The defined type sequence <span class="math notranslate nohighlight">\({{\mathit{dt}}_{\mathsf{i}}^\ast}\)</span> is of the form <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-externtype}{\mathrm{funcs}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})\)</span>.</p></li>
<li><p>The <a class="reference internal" href="#syntax-moduletype"><span class="std std-ref">module type</span></a> <span class="math notranslate nohighlight">\({\href{../valid/modules.html#syntax-moduletype}{\mathit{moduletype}}}\)</span> is <span class="math notranslate nohighlight">\({{\href{../valid/conventions.html#aux-clostype}{\mathsf{clos}}}}_{C}({{\mathit{xt}}_{\mathsf{i}}^\ast}~\mathrel{\href{../valid/modules.html#syntax-moduletype}{\rightarrow}}~{{\mathit{xt}}_{\mathsf{e}}^\ast})\)</span>.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{&#64;{}c&#64;{}}\displaystyle
\frac{
\begin{array}{&#64;{}c&#64;{}}
\{  \} \href{../valid/modules.html#valid-types}{\vdash} {{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast} : {{\mathit{dt}'}^\ast}
 \qquad
(\{ \href{../valid/conventions.html#context}{\mathsf{types}}~{{\mathit{dt}'}^\ast} \} \href{../valid/modules.html#valid-import}{\vdash} {\href{../syntax/modules.html#syntax-import}{\mathit{import}}} : {\mathit{xt}}_{\mathsf{i}})^\ast
 \\
({C'} \href{../valid/modules.html#valid-tag}{\vdash} {\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}} : {\mathit{jt}})^\ast
 \qquad
{C'} \href{../valid/modules.html#valid-globalseq}{\vdash} {{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast} : {{\mathit{gt}}^\ast}
 \qquad
({C'} \href{../valid/modules.html#valid-mem}{\vdash} {\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}} : {\mathit{mt}})^\ast
 \qquad
({C'} \href{../valid/modules.html#valid-table}{\vdash} {\href{../syntax/modules.html#syntax-table}{\mathit{table}}} : {\mathit{tt}})^\ast
 \qquad
(C \href{../valid/modules.html#valid-func}{\vdash} {\href{../syntax/modules.html#syntax-func}{\mathit{func}}} : {\mathit{dt}})^\ast
 \\
(C \href{../valid/modules.html#valid-data}{\vdash} {\href{../syntax/modules.html#syntax-data}{\mathit{data}}} : {\mathit{ok}})^\ast
 \qquad
(C \href{../valid/modules.html#valid-elem}{\vdash} {\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}} : {\mathit{rt}})^\ast
 \qquad
(C \href{../valid/modules.html#valid-start}{\vdash} {\href{../syntax/modules.html#syntax-start}{\mathit{start}}} : \href{../valid/modules.html#valid-start}{\mathsf{ok}})^?
 \qquad
(C \href{../valid/modules.html#valid-export}{\vdash} {\href{../syntax/modules.html#syntax-export}{\mathit{export}}} : {\mathit{nm}}~{\mathit{xt}}_{\mathsf{e}})^\ast
 \qquad
{{\mathit{nm}}^\ast}~{\mathrm{disjoint}}
 \\
C = {C'} \oplus \{ \href{../valid/conventions.html#context}{\mathsf{tags}}~{{\mathit{jt}}_{\mathsf{i}}^\ast}~{{\mathit{jt}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{globals}}~{{\mathit{gt}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{mems}}~{{\mathit{mt}}_{\mathsf{i}}^\ast}~{{\mathit{mt}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{tables}}~{{\mathit{tt}}_{\mathsf{i}}^\ast}~{{\mathit{tt}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{datas}}~{{\mathit{ok}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{elems}}~{{\mathit{rt}}^\ast} \}
 \\
{C'} = \{ \href{../valid/conventions.html#context}{\mathsf{types}}~{{\mathit{dt}'}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{globals}}~{{\mathit{gt}}_{\mathsf{i}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{funcs}}~{{\mathit{dt}}_{\mathsf{i}}^\ast}~{{\mathit{dt}}^\ast},\;\allowbreak \href{../valid/conventions.html#context}{\mathsf{refs}}~{x^\ast} \}
 \qquad
{x^\ast} = {\href{../syntax/modules.html#syntax-funcidx}{\mathrm{funcidx}}}({{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}~{{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}~{{\href{../syntax/modules.html#syntax-table}{\mathit{table}}}^\ast}~{{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast})
 \\
{{\mathit{jt}}_{\mathsf{i}}^\ast} = {\href{../syntax/types.html#syntax-externtype}{\mathrm{tags}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})
 \qquad
{{\mathit{gt}}_{\mathsf{i}}^\ast} = {\href{../syntax/types.html#syntax-externtype}{\mathrm{globals}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})
 \qquad
{{\mathit{mt}}_{\mathsf{i}}^\ast} = {\href{../syntax/types.html#syntax-externtype}{\mathrm{mems}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})
 \qquad
{{\mathit{tt}}_{\mathsf{i}}^\ast} = {\href{../syntax/types.html#syntax-externtype}{\mathrm{tables}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})
 \qquad
{{\mathit{dt}}_{\mathsf{i}}^\ast} = {\href{../syntax/types.html#syntax-externtype}{\mathrm{funcs}}}({{\mathit{xt}}_{\mathsf{i}}^\ast})
\end{array}
}{
{\href{../valid/modules.html#valid-module}{\vdash}}\, \href{../syntax/modules.html#syntax-module}{\mathsf{module}}~{{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}~{{\href{../syntax/modules.html#syntax-import}{\mathit{import}}}^\ast}~{{\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}^\ast}~{{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}~{{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}~{{\href{../syntax/modules.html#syntax-table}{\mathit{table}}}^\ast}~{{\href{../syntax/modules.html#syntax-func}{\mathit{func}}}^\ast}~{{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast}~{{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast}~{{\href{../syntax/modules.html#syntax-start}{\mathit{start}}}^?}~{{\href{../syntax/modules.html#syntax-export}{\mathit{export}}}^\ast} : {{\href{../valid/conventions.html#aux-clostype}{\mathsf{clos}}}}_{C}({{\mathit{xt}}_{\mathsf{i}}^\ast} \mathrel{\href{../valid/modules.html#syntax-moduletype}{\rightarrow}} {{\mathit{xt}}_{\mathsf{e}}^\ast})
}
\qquad
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All functions in a module are mutually recursive.
Consequently, the definition of the <a class="reference internal" href="conventions.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate nohighlight">\(C\)</span> in this rule is recursive:
it depends on the outcome of validation of the function, table, memory, and global definitions contained in the module,
which itself depends on <span class="math notranslate nohighlight">\(C\)</span>.
However, this recursion is just a specification device.
All types needed to construct <span class="math notranslate nohighlight">\(C\)</span> can easily be determined from a simple pre-pass over the module that does not perform any actual validation.</p>
<p>Globals, however, are not recursive but evaluated sequentially, such that each <a class="reference internal" href="instructions.html#valid-const"><span class="std std-ref">constant expressions</span></a> only has access to imported or previously defined globals.</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2017-2025, WebAssembly Community Group.
      
    </div>

    

    
  </body>
</html>