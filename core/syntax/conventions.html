<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Conventions &#8212; WebAssembly 3.0 (2025-12-03)</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=057308f9" />
    <script src="../_static/documentation_options.js?v=96c1e94c"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"tex": {"maxBuffer": 30720, "macros": {"multicolumn": ["", 2]}}, "options": {"menuOptions": {"settings": {"enrich": false}}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Values" href="values.html" />
    <link rel="prev" title="Structure" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/webassembly.png" alt="Logo of WebAssembly"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Structure</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="values.html">Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="instructions.html">Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../valid/index.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exec/index.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary/index.html">Binary Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../text/index.html">Text Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-types.html">Index of Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-instructions.html">Index of Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-rules.html">Index of Semantic Rules</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="../genindex.html">Index</a></li>
    
    <li class="toctree-l1"><a href="../_download/WebAssembly.pdf">Download as PDF</a></li>
    
</ul>

<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="conventions">
<span id="index-0"></span><h1>Conventions<a class="headerlink" href="#conventions" title="Link to this heading">¶</a></h1>
<p>WebAssembly is a programming language that has multiple concrete representations
(its <a class="reference internal" href="../binary/index.html#binary"><span class="std std-ref">binary format</span></a> and the <a class="reference internal" href="../text/index.html#text"><span class="std std-ref">text format</span></a>).
Both map to a common structure.
For conciseness, this structure is described in the form of an <em>abstract syntax</em>.
All parts of this specification are defined in terms of this abstract syntax.</p>
<section id="grammar-notation">
<span id="grammar"></span><span id="index-1"></span><h2>Grammar Notation<a class="headerlink" href="#grammar-notation" title="Link to this heading">¶</a></h2>
<p>The following conventions are adopted in defining grammar rules for abstract syntax.</p>
<ul class="simple">
<li><p>Terminal symbols (atoms) are written in sans-serif font or in symbolic form: <span class="math notranslate nohighlight">\(\mathsf{i{\scriptstyle 32}}\)</span>, <span class="math notranslate nohighlight">\(\mathsf{nop}\)</span>, <span class="math notranslate nohighlight">\(\rightarrow\)</span>, <span class="math notranslate nohighlight">\({}[ , ]\)</span>.</p></li>
<li><p>Nonterminal symbols are written in italic font: <span class="math notranslate nohighlight">\({\href{../syntax/types.html#syntax-valtype}{\mathit{valtype}}}\)</span>, <span class="math notranslate nohighlight">\({\href{../syntax/instructions.html#syntax-instr}{\mathit{instr}}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({A^{n}}\)</span> is a sequence of <span class="math notranslate nohighlight">\(n \geq 0\)</span> iterations of <span class="math notranslate nohighlight">\(A\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\({A^\ast}\)</span> is a possibly empty sequence of iterations of <span class="math notranslate nohighlight">\(A\)</span>.
(This is a shorthand for <span class="math notranslate nohighlight">\({A^{n}}\)</span> used where <span class="math notranslate nohighlight">\(n\)</span> is not relevant.)</p></li>
<li><p><span class="math notranslate nohighlight">\({A^{+}}\)</span> is a non-empty sequence of iterations of <span class="math notranslate nohighlight">\(A\)</span>.
(This is a shorthand for <span class="math notranslate nohighlight">\({A^{n}}\)</span> where <span class="math notranslate nohighlight">\(n \geq 1\)</span>.)</p></li>
<li><p><span class="math notranslate nohighlight">\({A^?}\)</span> is an optional occurrence of <span class="math notranslate nohighlight">\(A\)</span>.
(This is a shorthand for <span class="math notranslate nohighlight">\({A^{n}}\)</span> where <span class="math notranslate nohighlight">\(n \leq 1\)</span>.)</p></li>
<li><p>Productions are written <span class="math notranslate nohighlight">\(\begin{array}[t]{&#64;{}l&#64;{}r&#64;{~}r&#64;{~}l&#64;{}l&#64;{}} &amp; {\mathit{sym}} &amp; ::= &amp; A_1 ~~|~~ \ldots ~~|~~ A_n \\ \end{array}\)</span>.</p></li>
<li><p>Large productions may be split into multiple definitions, indicated by ending the first one with explicit ellipses, <span class="math notranslate nohighlight">\(\begin{array}[t]{&#64;{}l&#64;{}r&#64;{~}r&#64;{~}l&#64;{}l&#64;{}} &amp; {\mathit{sym}} &amp; ::= &amp; A_1 \\ \end{array}\)</span>, and starting continuations with ellipses, <span class="math notranslate nohighlight">\(\begin{array}[t]{&#64;{}l&#64;{}r&#64;{~}r&#64;{~}l&#64;{}l&#64;{}} &amp; {\mathit{sym}} &amp; ::= &amp; \dots ~~|~~ A_2 \\ \end{array}\)</span>.</p></li>
<li><p>Some productions are augmented with side conditions, “<span class="math notranslate nohighlight">\(\mathrel{\mbox{if}} \mathit{condition}\)</span>”, that provide a shorthand for a combinatorial expansion of the production into many separate cases.</p></li>
<li><p>If the same meta variable or non-terminal symbol appears multiple times in a production, then all those occurrences must have the same instantiation.
(This is a shorthand for a side condition requiring multiple different variables to be equal.)</p></li>
</ul>
</section>
<section id="auxiliary-notation">
<span id="notation-compose"></span><span id="notation-concat"></span><span id="notation-project"></span><span id="notation-record"></span><span id="notation-replace"></span><span id="notation-slice"></span><span id="notation-index"></span><span id="notation-length"></span><span id="notation-epsilon"></span><h2>Auxiliary Notation<a class="headerlink" href="#auxiliary-notation" title="Link to this heading">¶</a></h2>
<p>When dealing with syntactic constructs the following notation is also used:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\epsilon\)</span> denotes the empty sequence.</p></li>
<li><p><span class="math notranslate nohighlight">\({|s|}\)</span> denotes the length of a sequence <span class="math notranslate nohighlight">\(s\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(s{}[i]\)</span> denotes the <span class="math notranslate nohighlight">\(i\)</span>-th element of a sequence <span class="math notranslate nohighlight">\(s\)</span>, starting from <span class="math notranslate nohighlight">\(0\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(s{}[i : n]\)</span> denotes the sub-sequence <span class="math notranslate nohighlight">\(s{}[i] \ldots s{}[i + n - 1]\)</span> of a sequence <span class="math notranslate nohighlight">\(s\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(s{}[{}[i] = A]\)</span> denotes the same sequence as <span class="math notranslate nohighlight">\(s\)</span>,
except that the <span class="math notranslate nohighlight">\(i\)</span>-th element is replaced with <span class="math notranslate nohighlight">\(A\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(s{}[{}[i : n] = {A^{n}}]\)</span> denotes the same sequence as <span class="math notranslate nohighlight">\(s\)</span>,
except that the sub-sequence <span class="math notranslate nohighlight">\(s{}[i : n]\)</span> is replaced with <span class="math notranslate nohighlight">\({A^{n}}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(s_1 \oplus s_2\)</span> denotes the sequence <span class="math notranslate nohighlight">\(s_1\)</span> concatenated with <span class="math notranslate nohighlight">\(s_2\)</span>;
this is equivalent to <span class="math notranslate nohighlight">\(s_1~s_2\)</span>, but used for clarity.</p></li>
<li><p><span class="math notranslate nohighlight">\({\bigoplus}\, {s^\ast}\)</span> denotes the flattened sequence, formed by concatenating all sequences <span class="math notranslate nohighlight">\(s_i\)</span> in <span class="math notranslate nohighlight">\({s^\ast}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(A \in s\)</span> denotes that <span class="math notranslate nohighlight">\(A\)</span> is a member of the sequence <span class="math notranslate nohighlight">\(s\)</span>, that is, <span class="math notranslate nohighlight">\(s\)</span> is of the form <span class="math notranslate nohighlight">\(s_1~A~s_2\)</span> for some sequences <span class="math notranslate nohighlight">\(s_1\)</span>, <span class="math notranslate nohighlight">\(s_2\)</span>.</p></li>
</ul>
<p>Moreover, the following conventions are employed:</p>
<ul class="simple">
<li><p>The notation <span class="math notranslate nohighlight">\({x^{n}}\)</span>, where <span class="math notranslate nohighlight">\(x\)</span> is a non-terminal symbol, is treated as a meta variable ranging over respective sequences of <span class="math notranslate nohighlight">\(x\)</span> (similarly for <span class="math notranslate nohighlight">\({x^\ast}\)</span>, <span class="math notranslate nohighlight">\({x^{+}}\)</span>, <span class="math notranslate nohighlight">\({x^?}\)</span>).</p></li>
<li><p>When given a sequence <span class="math notranslate nohighlight">\({x^{n}}\)</span>,
then the occurrences of <span class="math notranslate nohighlight">\(x\)</span> in an iterated sequence <span class="math notranslate nohighlight">\({( \ldots x \ldots )^{n}}\)</span> are assumed to denote the individual elements of <span class="math notranslate nohighlight">\({x^{n}}\)</span>, respectively
(similarly for <span class="math notranslate nohighlight">\({x^\ast}\)</span>, <span class="math notranslate nohighlight">\({x^{+}}\)</span>, <span class="math notranslate nohighlight">\({x^?}\)</span>).
This implicitly expresses a form of mapping syntactic constructions over a sequence.</p></li>
<li><p><span class="math notranslate nohighlight">\({e^{i&lt;n}}\)</span> denotes the same sequence as <span class="math notranslate nohighlight">\({e^{n}}\)</span>,
but implicitly also defines <span class="math notranslate nohighlight">\({i^{n}}\)</span> to be the sequence of values <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\((n - 1)\)</span>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For example, if <span class="math notranslate nohighlight">\({x^{n}}\)</span> is the sequence <span class="math notranslate nohighlight">\(a~b~c\)</span>, then <span class="math notranslate nohighlight">\({({\mathrm{f}}(x) + 1)^{n}}\)</span> denotes the sequence <span class="math notranslate nohighlight">\(({\mathrm{f}}(a) + 1)~({\mathrm{f}}(b) + 1)~({\mathrm{f}}(c) + 1)\)</span>.</p>
<p>The form <span class="math notranslate nohighlight">\({e^{i&lt;n}}\)</span> additionally gives access to an index variable inside the iteration.
For example, <span class="math notranslate nohighlight">\({({\mathrm{f}}(x) + i)^{i&lt;n}}\)</span> denotes the sequence <span class="math notranslate nohighlight">\(({\mathrm{f}}(a) + 0)~({\mathrm{f}}(b) + 1)~({\mathrm{f}}(c) + 2)\)</span>.</p>
</div>
<p>Productions of the following form are interpreted as <em>records</em> that map a fixed set of fields <span class="math notranslate nohighlight">\({\mathsf{field}}_{i}\)</span> to “values” <span class="math notranslate nohighlight">\(A_i\)</span>, respectively:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}}
&amp; r &amp; ::= &amp; \{ \begin{array}[t]{&#64;{}l&#64;{}l&#64;{}}
{\mathsf{field}}_{1}~A_1 ,  {\mathsf{field}}_{2}~A_2 ,  \ldots~ \} \\
\end{array} \\
\end{array}\end{split}\]</div>
<p>The following notation is adopted for manipulating such records:</p>
<ul>
<li><p>Where the type of a record is clear from context, empty fields with value <span class="math notranslate nohighlight">\(\epsilon\)</span> are often omitted.</p></li>
<li><p><span class="math notranslate nohighlight">\(r{.}\mathsf{field}\)</span> denotes the contents of the <span class="math notranslate nohighlight">\(\mathsf{field}\)</span> component of <span class="math notranslate nohighlight">\(r\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(r{}[{.}\mathsf{field} = A]\)</span> denotes the same record as <span class="math notranslate nohighlight">\(r\)</span>,
except that the value of the <span class="math notranslate nohighlight">\(\mathsf{field}\)</span> component is replaced with <span class="math notranslate nohighlight">\(A\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(r{}[{.}\mathsf{field} \mathrel{{=}{\oplus}} {A^\ast}]\)</span> denotes the same record as <span class="math notranslate nohighlight">\(r\)</span>,
except that <span class="math notranslate nohighlight">\({A^\ast}\)</span> is appended to the sequence value of the <span class="math notranslate nohighlight">\(\mathsf{field}\)</span> component,
that is, it is short for <span class="math notranslate nohighlight">\(r{}[{.}\mathsf{field} = r{.}\mathsf{field} \oplus {A^\ast}]\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(r_1 \oplus r_2\)</span> denotes the composition of two identically shaped records by concatenating each field of sequences point-wise:</p>
<div class="math notranslate nohighlight">
\[\{ {\mathsf{field}}_{1}\,{A_1^\ast}, {\mathsf{field}}_{2}\,{A_2^\ast}, \ldots \} \oplus \{ {\mathsf{field}}_{1}\,{B_1^\ast}, {\mathsf{field}}_{2}\,{B_2^\ast}, \ldots \} = \{ {\mathsf{field}}_{1}\,({A_1^\ast} \oplus {B_1^\ast}), {\mathsf{field}}_{2}\,({A_2^\ast} \oplus {B_2^\ast}), \ldots \}\]</div>
</li>
<li><p><span class="math notranslate nohighlight">\({\bigoplus}\, {r^\ast}\)</span> denotes the composition of a sequence of records, respectively; if the sequence is empty, then all fields of the resulting record are empty.</p></li>
</ul>
<p>The update notation for sequences and records generalizes recursively to nested components accessed by “paths” <span class="math notranslate nohighlight">\(\begin{array}[t]{&#64;{}l&#64;{}r&#64;{~}r&#64;{~}l&#64;{}l&#64;{}} &amp; {\mathit{pth}} &amp; ::= &amp; {({}[ i ]~\mid~{.}\mathsf{field})^{+}} \\ \end{array}\)</span>:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(s{}[{{}[ i ]}{{\mathit{pth}}} = A]\)</span> is short for <span class="math notranslate nohighlight">\(s{}[{}[i] = s{}[i]{}[{\mathit{pth}} = A]]\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(r{}[{.}\mathsf{field}~{\mathit{pth}} = A]\)</span> is short for <span class="math notranslate nohighlight">\(r{}[{.}\mathsf{field} = r{.}\mathsf{field}{}[{\mathit{pth}} = A]]\)</span>.</p></li>
</ul>
</section>
<section id="lists">
<span id="syntax-list"></span><span id="index-2"></span><h2>Lists<a class="headerlink" href="#lists" title="Link to this heading">¶</a></h2>
<p><em>Lists</em> are bounded sequences of the form <span class="math notranslate nohighlight">\({A^{n}}\)</span> (or <span class="math notranslate nohighlight">\({A^\ast}\)</span>),
where the <span class="math notranslate nohighlight">\(A\)</span> can either be values or complex constructions.
A list can have at most <span class="math notranslate nohighlight">\({2^{32}} - 1\)</span> elements.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}}
&amp; {\href{../syntax/conventions.html#syntax-list}{\mathit{list}}}(X) &amp; ::= &amp; {X^\ast} &amp; \quad \mbox{if}~ {|{X^\ast}|} &lt; {2^{32}} \\
\end{array}\end{split}\]</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2017-2025, WebAssembly Community Group.
      
    </div>

    

    
  </body>
</html>