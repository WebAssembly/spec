<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Profiles &#8212; WebAssembly 3.0 (2025-10-30)</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=057308f9" />
    <script src="../_static/documentation_options.js?v=d6005cfc"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"tex": {"maxBuffer": 30720, "macros": {"multicolumn": ["", 2]}}, "options": {"menuOptions": {"settings": {"enrich": false}}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Implementation Limitations" href="implementation.html" />
    <link rel="prev" title="Embedding" href="embedding.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/webassembly.png" alt="Logo of WebAssembly"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syntax/index.html">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valid/index.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exec/index.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary/index.html">Binary Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../text/index.html">Text Format</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Appendix</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="embedding.html">Embedding</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html">Implementation Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="properties.html">Type Soundness</a></li>
<li class="toctree-l2"><a class="reference internal" href="properties.html#type-system-properties">Type System Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="algorithm.html">Validation Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom.html">Custom Sections and Annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes.html">Change History</a></li>
<li class="toctree-l2"><a class="reference internal" href="index-types.html">Index of Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="index-instructions.html">Index of Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="index-rules.html">Index of Semantic Rules</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index-types.html">Index of Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="index-instructions.html">Index of Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="index-rules.html">Index of Semantic Rules</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="../genindex.html">Index</a></li>
    
    <li class="toctree-l1"><a href="../_download/WebAssembly.pdf">Download as PDF</a></li>
    
</ul>

<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="profiles">
<span id="index-0"></span><span id="id1"></span><h1>Profiles<a class="headerlink" href="#profiles" title="Link to this heading">¶</a></h1>
<p>To enable the use of WebAssembly in as many environments as possible, <em>profiles</em> specify coherent language subsets that fit constraints imposed by common classes of host environments.
A host platform can thereby decide to support the language only under a restricted profile, or even the intersection of multiple profiles.</p>
<section id="conventions">
<h2>Conventions<a class="headerlink" href="#conventions" title="Link to this heading">¶</a></h2>
<p>A profile modification is specified by decorating selected rules in the main body of this specification with a <em>profile annotation</em> that defines them as conditional on the choice of profile.</p>
<p>For that purpose, every profile defines a <em>profile marker</em>, an alphanumeric short-hand like <span class="math notranslate nohighlight">\(\def\mathdef1451#1{{\small{\mathrm{#1}}}}\mathdef1451{ABC}\)</span>.
A profile annotation of the form <span class="math notranslate nohighlight">\(\def\mathdef1452#1{{{}^{\small{[{!}#1]}}}}\mathdef1452{\mathrm{ABC}~\mathrm{XYZ}}\)</span> on a rule indicates that this rule is <em>excluded</em> for either of the profiles whose marker is <span class="math notranslate nohighlight">\(\def\mathdef1453#1{{\small{\mathrm{#1}}}}\mathdef1453{ABC}\)</span> or <span class="math notranslate nohighlight">\(\def\mathdef1454#1{{\small{\mathrm{#1}}}}\mathdef1454{XYZ}\)</span>.</p>
<p>There are two ways of subsetting the language in a profile:</p>
<ul class="simple">
<li><p><em>Syntactic</em>, by <em>omitting</em> a feature, in which case certain constructs are removed from the syntax altogether.</p></li>
<li><p><em>Semantic</em>, by <em>restricting</em> a feature, in which case certain constructs are still present but some behaviours are ruled out.</p></li>
</ul>
<section id="syntax-annotations">
<h3>Syntax Annotations<a class="headerlink" href="#syntax-annotations" title="Link to this heading">¶</a></h3>
<p>To omit a construct from a profile syntactically, respective productions in the grammar of the <a class="reference internal" href="../syntax/index.html#syntax"><span class="std std-ref">abstract syntax</span></a> are annotated with an associated profile marker.
This is defined to have the following implications:</p>
<ol class="arabic simple">
<li><p>Any production in the <a class="reference internal" href="../binary/index.html#binary"><span class="std std-ref">binary</span></a> or <a class="reference internal" href="../text/index.html#text"><span class="std std-ref">textual</span></a> syntax that produces abstract syntax with a marked construct is omitted by extension.</p></li>
<li><p>Any <a class="reference internal" href="../valid/index.html#valid"><span class="std std-ref">validation</span></a> or <a class="reference internal" href="../exec/index.html#exec"><span class="std std-ref">execution</span></a> rule that handles a marked construct is omitted by extension.</p></li>
</ol>
<p>The overall effect is that the respective construct is no longer part of the language under a respective profile.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For example, a “busy” profile marked <span class="math notranslate nohighlight">\(\def\mathdef1455#1{{\small{\mathrm{#1}}}}\mathdef1455{BUSY}\)</span> could rule out the <span class="math notranslate nohighlight">\(\href{../syntax/instructions.html#syntax-instr-control}{\mathsf{nop}}\)</span> instruction by marking the production for it in the abstract syntax as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{llcl}
\def\mathdef1420#1{{}}\mathdef1420{instruction} &amp; \href{../syntax/instructions.html#syntax-instr}{\mathit{instr}} &amp;::=&amp;
  \dots \\
&amp; \def\mathdef1456#1{{{}^{\small{[{!}#1]}}}}\mathdef1456{\mathrm{BUSY}} &amp;|&amp; \href{../syntax/instructions.html#syntax-instr-control}{\mathsf{nop}} \\
&amp;                           &amp;|&amp; \href{../syntax/instructions.html#syntax-instr-control}{\mathsf{unreachable}} \\
\end{array}\end{split}\]</div>
<p>A rule may be annotated by multiple markers, which could be the case if a construct is in the intersection of multiple features.</p>
</div>
</section>
<section id="semantics-annotations">
<h3>Semantics Annotations<a class="headerlink" href="#semantics-annotations" title="Link to this heading">¶</a></h3>
<p>To restrict certain behaviours in a profile, individual <a class="reference internal" href="../valid/index.html#valid"><span class="std std-ref">validation</span></a> or <a class="reference internal" href="../exec/index.html#exec"><span class="std std-ref">reduction</span></a> rules or auxiliary definitions are annotated with an associated marker.</p>
<p>This has the consequence that the respective rule is no longer applicable under the given profile.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For example, an “infinite” profile marked <span class="math notranslate nohighlight">\(\def\mathdef1457#1{{\small{\mathrm{#1}}}}\mathdef1457{INF}\)</span> could define that growing memory never fails:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{llcl&#64;{\qquad}l}
&amp; S; F; (\href{../syntax/types.html#syntax-numtype}{\mathsf{i\scriptstyle32}}.\href{../syntax/instructions.html#syntax-instr-numeric}{\mathsf{const}}~n)~\href{../syntax/instructions.html#syntax-instr-memory}{\mathsf{memory{.}grow}}~x &amp;\href{../exec/conventions.html#exec-notation}{\hookrightarrow}&amp; S'; F; (\href{../syntax/types.html#syntax-numtype}{\mathsf{i\scriptstyle32}}.\href{../syntax/instructions.html#syntax-instr-numeric}{\mathsf{const}}~\mathit{sz})
\\&amp;&amp;&amp;
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; F.\href{../exec/runtime.html#syntax-frame}{\mathsf{module}}.\href{../exec/runtime.html#syntax-moduleinst}{\mathsf{mems}}[x] = a \\
  \wedge &amp; \mathit{sz} = |S.\href{../exec/runtime.html#syntax-store}{\mathsf{mems}}[a].\href{../exec/runtime.html#syntax-moduleinst}{\mathsf{datas}}|/64\,\mathrm{Ki} \\
  \wedge &amp; S' = S \href{../syntax/conventions.html#notation-replace}{\mathrel{\mbox{with}}} \href{../exec/runtime.html#syntax-store}{\mathsf{mems}}[a] = \href{../exec/modules.html#grow-mem}{\mathrm{growmem}}(S.\href{../exec/runtime.html#syntax-store}{\mathsf{mems}}[a], n)) \\[1ex]
  \end{array}
\\[1ex]
\def\mathdef1458#1{{{}^{\small{[{!}#1]}}}}\mathdef1458{\mathrm{INF}} &amp; S; F; (\href{../syntax/types.html#syntax-numtype}{\mathsf{i\scriptstyle32}}.\href{../syntax/instructions.html#syntax-instr-numeric}{\mathsf{const}}~n)~\href{../syntax/instructions.html#syntax-instr-memory}{\mathsf{memory{.}grow}}~x &amp;\href{../exec/conventions.html#exec-notation}{\hookrightarrow}&amp; S; F; (\href{../syntax/types.html#syntax-numtype}{\mathsf{i\scriptstyle32}}.\href{../syntax/instructions.html#syntax-instr-numeric}{\mathsf{const}}~\href{../exec/numerics.html#aux-signed}{\mathrm{signed}}_{32}^{-1}(-1))
\end{array}\end{split}\]</div>
</div>
</section>
<section id="properties">
<h3>Properties<a class="headerlink" href="#properties" title="Link to this heading">¶</a></h3>
<p>All profiles are defined such that the following properties are preserved:</p>
<ul class="simple">
<li><p>All profiles represent syntactic and semantic subsets of the <a class="reference internal" href="#profile-full"><span class="std std-ref">full profile</span></a>, i.e., they do not <em>add</em> syntax or <em>alter</em> behaviour.</p></li>
<li><p>All profiles are mutually compatible, i.e., no two profiles subset semantic behaviour in inconsistent or ambiguous ways, and any intersection of profiles preserves the properties described here.</p></li>
<li><p>Profiles do not violate <a class="reference internal" href="properties.html#soundness"><span class="std std-ref">soundness</span></a>, i.e., all <a class="reference internal" href="../exec/runtime.html#syntax-config"><span class="std std-ref">configurations</span></a> valid under that profile still have well-defined execution behaviour.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Tools are generally expected to handle and produce code for the full profile by default.
In particular, producers should not generate code that <em>depends</em> on specific profiles. Instead, all code should preserve correctness when executed under the full profile.</p>
<p>Moreover, profiles should be considered static and fixed for a given platform or ecosystem. Runtime conditioning on the “current” profile is not intended and should be avoided.</p>
</div>
</section>
</section>
<section id="defined-profiles">
<h2>Defined Profiles<a class="headerlink" href="#defined-profiles" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The number of defined profiles is expected to remain small in the future. Profiles are intended for broad and permanent use cases only. In particular, profiles are not intended for language versioning.</p>
</div>
<section id="full-profile-small-mathrm-ful">
<span id="profile-full"></span><span id="index-1"></span><h3>Full Profile (<span class="math notranslate nohighlight">\({\small{\mathrm{FUL}}}\)</span>)<a class="headerlink" href="#full-profile-small-mathrm-ful" title="Link to this heading">¶</a></h3>
<p>The <em>full</em> profile contains the complete language and all possible behaviours.
It imposes no restrictions, i.e., all rules and definitions are active.
All other profiles define sub-languages of this profile.</p>
</section>
<section id="deterministic-profile-small-mathrm-det">
<span id="profile-deterministic"></span><span id="index-2"></span><h3>Deterministic Profile (<span class="math notranslate nohighlight">\({\small{\mathrm{DET}}}\)</span>)<a class="headerlink" href="#deterministic-profile-small-mathrm-det" title="Link to this heading">¶</a></h3>
<p>The <em>deterministic</em> profile excludes all rules marked <span class="math notranslate nohighlight">\(\def\mathdef1459#1{{{}^{\small{[{!}#1]}}}}\mathdef1459{\href{../appendix/profiles.html#profile-deterministic}{\mathrm{DET}}}\)</span>.
It defines a sub-language that does not exhibit any incidental non-deterministic behaviour:</p>
<ul class="simple">
<li><p>All <a class="reference internal" href="../syntax/values.html#syntax-nan"><span class="std std-ref">NaN</span></a> values <a class="reference internal" href="../exec/numerics.html#aux-nans"><span class="std std-ref">generated</span></a> by <a class="reference internal" href="../syntax/instructions.html#syntax-instr-numeric"><span class="std std-ref">floating-point instructions</span></a> are canonical and positive.</p></li>
<li><p>All <a class="reference internal" href="../syntax/instructions.html#syntax-instr-vec-relaxed"><span class="std std-ref">relaxed vector instructions</span></a> have a fixed behaviour that does not depend on the implementation.</p></li>
</ul>
<p>Even under this profile, the <span class="math notranslate nohighlight">\(\href{../syntax/instructions.html#syntax-instr-memory}{\mathsf{memory{.}grow}}\)</span> and <span class="math notranslate nohighlight">\(\href{../syntax/instructions.html#syntax-instr-table}{\mathsf{table{.}grow}}\)</span> instructions technically remain <a class="reference internal" href="../exec/instructions.html#exec-memory-grow"><span class="std std-ref">non-deterministic</span></a>, in order to be able to indicate resource exhaustion.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In future versions of WebAssembly, new non-deterministic behaviour may be added to the language, such that the deterministic profile will induce additional restrictions.</p>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2017-2025, WebAssembly Community Group.
      
    </div>

    

    
  </body>
</html>