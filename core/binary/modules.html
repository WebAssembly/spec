<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Modules &#8212; WebAssembly 3.0 (2025-09-23)</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=057308f9" />
    <script src="../_static/documentation_options.js?v=f88ca30f"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"tex": {"maxBuffer": 30720, "macros": {"multicolumn": ["", 2]}}, "options": {"menuOptions": {"settings": {"enrich": false}}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Text Format" href="../text/index.html" />
    <link rel="prev" title="Instructions" href="instructions.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/webassembly.png" alt="Logo of WebAssembly"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syntax/index.html">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valid/index.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exec/index.html">Execution</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Binary Format</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="values.html">Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="instructions.html">Instructions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../text/index.html">Text Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-types.html">Index of Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-instructions.html">Index of Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index-rules.html">Index of Semantic Rules</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="../genindex.html">Index</a></li>
    
    <li class="toctree-l1"><a href="../_download/WebAssembly.pdf">Download as PDF</a></li>
    
</ul>

<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="modules">
<h1>Modules<a class="headerlink" href="#modules" title="Link to this heading">¶</a></h1>
<p>The binary encoding of modules is organized into <em>sections</em>.
Most sections correspond to one component of a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a> record,
except that <a class="reference internal" href="../syntax/modules.html#syntax-func"><span class="std std-ref">function definitions</span></a> are split into two sections, separating their type declarations in the <a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function section</span></a> from their bodies in the <a class="reference internal" href="#binary-codesec"><span class="std std-ref">code section</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This separation enables <em>parallel</em> and <em>streaming</em> compilation of the functions in a module.</p>
</div>
<section id="indices">
<span id="binary-index"></span><span id="binary-externidx"></span><span id="binary-fieldidx"></span><span id="binary-labelidx"></span><span id="binary-localidx"></span><span id="binary-elemidx"></span><span id="binary-dataidx"></span><span id="binary-funcidx"></span><span id="binary-tableidx"></span><span id="binary-memidx"></span><span id="binary-globalidx"></span><span id="binary-tagidx"></span><span id="binary-typeidx"></span><span id="index-0"></span><h2>Indices<a class="headerlink" href="#indices" title="Link to this heading">¶</a></h2>
<p>All basic <a class="reference internal" href="../syntax/modules.html#syntax-index"><span class="std std-ref">indices</span></a> are encoded with their respective value.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-typeidx}{\mathtt{typeidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-funcidx}{\mathtt{funcidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-tableidx}{\mathtt{tableidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-memidx}{\mathtt{memidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-globalidx}{\mathtt{globalidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-tagidx}{\mathtt{tagidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-elemidx}{\mathtt{elemidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-dataidx}{\mathtt{dataidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-localidx}{\mathtt{localidx}}} &amp; ::= &amp; x{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; x \\
&amp; {\href{../binary/modules.html#binary-labelidx}{\mathtt{labelidx}}} &amp; ::= &amp; l{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; l \\
\end{array}\end{split}\]</div>
<p><a class="reference internal" href="../syntax/modules.html#syntax-externidx"><span class="std std-ref">External indices</span></a> are encoded by a distiguishing byte followed by an encoding of their respective value.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-externidx}{\mathtt{externidx}}} &amp; ::= &amp; \mathtt{0x00}~~x{:}{\href{../binary/modules.html#binary-funcidx}{\mathtt{funcidx}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-externidx}{\mathsf{func}}~x \\
&amp; &amp; | &amp; \mathtt{0x01}~~x{:}{\href{../binary/modules.html#binary-tableidx}{\mathtt{tableidx}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-externidx}{\mathsf{table}}~x \\
&amp; &amp; | &amp; \mathtt{0x02}~~x{:}{\href{../binary/modules.html#binary-memidx}{\mathtt{memidx}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-externidx}{\mathsf{memory}}~x \\
&amp; &amp; | &amp; \mathtt{0x03}~~x{:}{\href{../binary/modules.html#binary-globalidx}{\mathtt{globalidx}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-externidx}{\mathsf{global}}~x \\
&amp; &amp; | &amp; \mathtt{0x04}~~x{:}{\href{../binary/modules.html#binary-tagidx}{\mathtt{tagidx}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-externidx}{\mathsf{tag}}~x \\
\end{array}\end{split}\]</div>
</section>
<section id="sections">
<span id="binary-section"></span><span id="index-1"></span><h2>Sections<a class="headerlink" href="#sections" title="Link to this heading">¶</a></h2>
<p>Each section consists of</p>
<ul class="simple">
<li><p>a one-byte section <em>id</em>,</p></li>
<li><p>the <span class="math notranslate nohighlight">\({\href{../syntax/values.html#syntax-int}{\mathit{u\scriptstyle\kern-0.1em32}}}\)</span> <em>length</em> of the contents, in bytes,</p></li>
<li><p>the actual <em>contents</em>, whose structure is dependent on the section id.</p></li>
</ul>
<p>Every section is optional; an omitted section is equivalent to the section being present with empty contents.</p>
<p>The following parameterized grammar rule defines the generic structure of a section with id <span class="math notranslate nohighlight">\(N\)</span> and contents described by the grammar <span class="math notranslate nohighlight">\({\mathtt{X}}\)</span>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{N}({\mathtt{X}}) &amp; ::= &amp; N{:}{\href{../binary/values.html#binary-byte}{\mathtt{byte}}}~~{\mathit{len}}{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~{{\mathit{en}}^\ast}{:}{\mathtt{X}} &amp; \quad\Rightarrow\quad{} &amp; {{\mathit{en}}^\ast} &amp; \quad \mbox{if}~ {\mathit{len}} = ||{\mathtt{X}}|| \\
&amp; &amp; | &amp; \epsilon &amp; \quad\Rightarrow\quad{} &amp; \epsilon \\
\end{array}\end{split}\]</div>
<p>For most sections, the contents <span class="math notranslate nohighlight">\({\mathtt{X}}\)</span> encodes a <a class="reference internal" href="conventions.html#binary-list"><span class="std std-ref">list</span></a>.
In these cases, the empty result <span class="math notranslate nohighlight">\(\epsilon\)</span> is interpreted as the empty list.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other than for unknown <a class="reference internal" href="#binary-customsec"><span class="std std-ref">custom sections</span></a>,
the <span class="math notranslate nohighlight">\({\mathit{size}}\)</span> is not required for decoding, but can be used to skip sections when navigating through a binary.
The module is malformed if the size does not match the length of the binary contents <span class="math notranslate nohighlight">\({\mathtt{X}}\)</span>.</p>
</div>
<p>The following section ids are used:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Id</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><a class="reference internal" href="#binary-customsec"><span class="std std-ref">custom section</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><a class="reference internal" href="#binary-typesec"><span class="std std-ref">type section</span></a></p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><a class="reference internal" href="#binary-importsec"><span class="std std-ref">import section</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function section</span></a></p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><a class="reference internal" href="#binary-tablesec"><span class="std std-ref">table section</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><a class="reference internal" href="#binary-memsec"><span class="std std-ref">memory section</span></a></p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p><a class="reference internal" href="#binary-globalsec"><span class="std std-ref">global section</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><a class="reference internal" href="#binary-exportsec"><span class="std std-ref">export section</span></a></p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><a class="reference internal" href="#binary-startsec"><span class="std std-ref">start section</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><a class="reference internal" href="#binary-elemsec"><span class="std std-ref">element section</span></a></p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p><a class="reference internal" href="#binary-codesec"><span class="std std-ref">code section</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p><a class="reference internal" href="#binary-datasec"><span class="std std-ref">data section</span></a></p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p><a class="reference internal" href="#binary-datacntsec"><span class="std std-ref">data count section</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p><a class="reference internal" href="#binary-tagsec"><span class="std std-ref">tag section</span></a></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Section ids do not always correspond to the <a class="reference internal" href="#binary-module"><span class="std std-ref">order of sections</span></a> in the encoding of a module.</p>
</div>
</section>
<section id="custom-section">
<span id="binary-customsec"></span><span id="index-2"></span><h2>Custom Section<a class="headerlink" href="#custom-section" title="Link to this heading">¶</a></h2>
<p><em>Custom sections</em> have the id 0.
They are intended to be used for debugging information or third-party extensions, and are ignored by the WebAssembly semantics.
Their contents consist of a <a class="reference internal" href="../syntax/values.html#syntax-name"><span class="std std-ref">name</span></a> further identifying the custom section, followed by an uninterpreted sequence of bytes for custom use.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}} &amp; ::= &amp; {{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{0}({\href{../binary/modules.html#binary-customsec}{\mathtt{custom}}}) \\
&amp; {\href{../binary/modules.html#binary-customsec}{\mathtt{custom}}} &amp; ::= &amp; {\href{../binary/values.html#binary-name}{\mathtt{name}}}~~{{\href{../binary/values.html#binary-byte}{\mathtt{byte}}}^\ast} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If an implementation interprets the data of a custom section, then errors in that data, or the placement of the section, must not invalidate the module.</p>
</div>
</section>
<section id="type-section">
<span id="binary-typesec"></span><span id="binary-type"></span><span id="index-3"></span><h2>Type Section<a class="headerlink" href="#type-section" title="Link to this heading">¶</a></h2>
<p>The <em>type section</em> has the id 1.
It decodes into the list of <a class="reference internal" href="../syntax/types.html#syntax-rectype"><span class="std std-ref">recursive types</span></a> of a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-typesec}{\mathtt{typesec}}} &amp; ::= &amp; {{\mathit{ty}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{1}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-type}{\mathtt{type}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\mathit{ty}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-type}{\mathtt{type}}} &amp; ::= &amp; {\mathit{qt}}{:}{\href{../binary/types.html#binary-rectype}{\mathtt{rectype}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-type}{\mathsf{type}}~{\mathit{qt}} \\
\end{array}\end{split}\]</div>
</section>
<section id="import-section">
<span id="binary-importsec"></span><span id="binary-importdesc"></span><span id="binary-import"></span><span id="index-4"></span><h2>Import Section<a class="headerlink" href="#import-section" title="Link to this heading">¶</a></h2>
<p>The <em>import section</em> has the id 2.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-import"><span class="std std-ref">imports</span></a> of a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-importsec}{\mathtt{importsec}}} &amp; ::= &amp; {{\mathit{im}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{2}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-import}{\mathtt{import}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\mathit{im}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-import}{\mathtt{import}}} &amp; ::= &amp; {\mathit{nm}}_1{:}{\href{../binary/values.html#binary-name}{\mathtt{name}}}~~{\mathit{nm}}_2{:}{\href{../binary/values.html#binary-name}{\mathtt{name}}}~~{\mathit{xt}}{:}{\href{../binary/types.html#binary-externtype}{\mathtt{externtype}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-import}{\mathsf{import}}~{\mathit{nm}}_1~{\mathit{nm}}_2~{\mathit{xt}} \\
\end{array}\end{split}\]</div>
</section>
<section id="function-section">
<span id="binary-funcsec"></span><span id="index-5"></span><h2>Function Section<a class="headerlink" href="#function-section" title="Link to this heading">¶</a></h2>
<p>The <em>function section</em> has the id 3.
It decodes into a list of <a class="reference internal" href="../syntax/modules.html#syntax-typeidx"><span class="std std-ref">type indices</span></a> that classify the <a class="reference internal" href="../syntax/modules.html#syntax-func"><span class="std std-ref">functions</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.
The bodies of the respective functions are encoded separately in the <a class="reference internal" href="#binary-codesec"><span class="std std-ref">code section</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-funcsec}{\mathtt{funcsec}}} &amp; ::= &amp; {x^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{3}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-typeidx}{\mathtt{typeidx}}})) &amp; \quad\Rightarrow\quad{} &amp; {x^\ast} \\
\end{array}\end{split}\]</div>
</section>
<section id="table-section">
<span id="binary-tablesec"></span><span id="binary-table"></span><span id="index-6"></span><h2>Table Section<a class="headerlink" href="#table-section" title="Link to this heading">¶</a></h2>
<p>The <em>table section</em> has the id 4.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-table"><span class="std std-ref">tables</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-tablesec}{\mathtt{tablesec}}} &amp; ::= &amp; {{\mathit{tab}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{4}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-table}{\mathtt{table}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\mathit{tab}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-table}{\mathtt{table}}} &amp; ::= &amp; {\mathit{tt}}{:}{\href{../binary/types.html#binary-tabletype}{\mathtt{tabletype}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-table}{\mathsf{table}}~{\mathit{tt}}~(\href{../syntax/instructions.html#syntax-instr-ref}{\mathsf{ref{.}null}}~{\mathit{ht}}) &amp; \quad \mbox{if}~ {\mathit{tt}} = {\mathit{at}}~{\mathit{lim}}~(\href{../syntax/types.html#syntax-reftype}{\mathsf{ref}}~{\href{../syntax/types.html#syntax-reftype}{\mathsf{null}}^?}~{\mathit{ht}}) \\
&amp; &amp; | &amp; \mathtt{0x40}~~\mathtt{0x00}~~{\mathit{tt}}{:}{\href{../binary/types.html#binary-tabletype}{\mathtt{tabletype}}}~~e{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-table}{\mathsf{table}}~{\mathit{tt}}~e \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The encoding of a table type cannot start with byte <span class="math notranslate nohighlight">\(\mathtt{0x40}\)</span>,
hence decoding is unambiguous.
The zero byte following it is reserved for future extensions.</p>
</div>
</section>
<section id="memory-section">
<span id="binary-memsec"></span><span id="binary-mem"></span><span id="index-7"></span><h2>Memory Section<a class="headerlink" href="#memory-section" title="Link to this heading">¶</a></h2>
<p>The <em>memory section</em> has the id 5.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-mem"><span class="std std-ref">memories</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-memsec}{\mathtt{memsec}}} &amp; ::= &amp; {{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{5}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-mem}{\mathtt{mem}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-mem}{\mathtt{mem}}} &amp; ::= &amp; {\mathit{mt}}{:}{\href{../binary/types.html#binary-memtype}{\mathtt{memtype}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-mem}{\mathsf{memory}}~{\mathit{mt}} \\
\end{array}\end{split}\]</div>
</section>
<section id="global-section">
<span id="binary-globalsec"></span><span id="binary-global"></span><span id="index-8"></span><h2>Global Section<a class="headerlink" href="#global-section" title="Link to this heading">¶</a></h2>
<p>The <em>global section</em> has the id 6.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-global"><span class="std std-ref">globals</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-globalsec}{\mathtt{globalsec}}} &amp; ::= &amp; {{\mathit{glob}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{6}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-global}{\mathtt{global}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\mathit{glob}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-global}{\mathtt{global}}} &amp; ::= &amp; {\mathit{gt}}{:}{\href{../binary/types.html#binary-globaltype}{\mathtt{globaltype}}}~~e{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-global}{\mathsf{global}}~{\mathit{gt}}~e \\
\end{array}\end{split}\]</div>
</section>
<section id="export-section">
<span id="binary-exportsec"></span><span id="binary-exportdesc"></span><span id="binary-export"></span><span id="index-9"></span><h2>Export Section<a class="headerlink" href="#export-section" title="Link to this heading">¶</a></h2>
<p>The <em>export section</em> has the id 7.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-export"><span class="std std-ref">exports</span></a> of a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-exportsec}{\mathtt{exportsec}}} &amp; ::= &amp; {{\mathit{ex}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{7}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-export}{\mathtt{export}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\mathit{ex}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-export}{\mathtt{export}}} &amp; ::= &amp; {\mathit{nm}}{:}{\href{../binary/values.html#binary-name}{\mathtt{name}}}~~{\mathit{xx}}{:}{\href{../binary/modules.html#binary-externidx}{\mathtt{externidx}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-export}{\mathsf{export}}~{\mathit{nm}}~{\mathit{xx}} \\
\end{array}\end{split}\]</div>
</section>
<section id="start-section">
<span id="binary-startsec"></span><span id="binary-start"></span><span id="index-10"></span><h2>Start Section<a class="headerlink" href="#start-section" title="Link to this heading">¶</a></h2>
<p>The <em>start section</em> has the id 8.
It decodes into the optional <a class="reference internal" href="../syntax/modules.html#syntax-start"><span class="std std-ref">start function</span></a> of a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-startsec}{\mathtt{startsec}}} &amp; ::= &amp; {{\href{../syntax/modules.html#syntax-start}{\mathit{start}}}^?}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{8}({\href{../binary/modules.html#binary-start}{\mathtt{start}}}) &amp; \quad\Rightarrow\quad{} &amp; {{\href{../syntax/modules.html#syntax-start}{\mathit{start}}}^?} \\
&amp; {\href{../binary/modules.html#binary-start}{\mathtt{start}}} &amp; ::= &amp; x{:}{\href{../binary/modules.html#binary-funcidx}{\mathtt{funcidx}}} &amp; \quad\Rightarrow\quad{} &amp; (\href{../syntax/modules.html#syntax-start}{\mathsf{start}}~x) \\
\end{array}\end{split}\]</div>
</section>
<section id="element-section">
<span id="binary-elemkind"></span><span id="binary-elemsec"></span><span id="binary-elem"></span><span id="index-11"></span><h2>Element Section<a class="headerlink" href="#element-section" title="Link to this heading">¶</a></h2>
<p>The <em>element section</em> has the id 9.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-elem"><span class="std std-ref">element segments</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-elemsec}{\mathtt{elemsec}}} &amp; ::= &amp; {{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{9}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-elem}{\mathtt{elem}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-elemkind}{\mathtt{elemkind}}} &amp; ::= &amp; \mathtt{0x00} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/types.html#syntax-reftype}{\mathsf{ref}}~\href{../syntax/types.html#syntax-reftype}{\mathsf{null}}~\href{../syntax/types.html#syntax-heaptype}{\mathsf{func}} \\
&amp; {\href{../binary/modules.html#binary-elem}{\mathtt{elem}}} &amp; ::= &amp; 0{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~e_o{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}~~{y^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-funcidx}{\mathtt{funcidx}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~(\href{../syntax/types.html#syntax-reftype}{\mathsf{ref}}~\href{../syntax/types.html#syntax-heaptype}{\mathsf{func}})~{(\href{../syntax/instructions.html#syntax-instr-ref}{\mathsf{ref{.}func}}~y)^\ast}~(\href{../syntax/modules.html#syntax-elemmode}{\mathsf{active}}~0~e_o) \\
\end{array}
} \\
&amp; &amp; | &amp; 1{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~{\mathit{rt}}{:}{\href{../binary/modules.html#binary-elemkind}{\mathtt{elemkind}}}~~{y^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-funcidx}{\mathtt{funcidx}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~{\mathit{rt}}~{(\href{../syntax/instructions.html#syntax-instr-ref}{\mathsf{ref{.}func}}~y)^\ast}~\href{../syntax/modules.html#syntax-elemmode}{\mathsf{passive}} \\
\end{array}
} \\
&amp; &amp; | &amp; 2{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~x{:}{\href{../binary/modules.html#binary-tableidx}{\mathtt{tableidx}}}~~e{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}~~{\mathit{rt}}{:}{\href{../binary/modules.html#binary-elemkind}{\mathtt{elemkind}}}~~{y^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-funcidx}{\mathtt{funcidx}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~{\mathit{rt}}~{(\href{../syntax/instructions.html#syntax-instr-ref}{\mathsf{ref{.}func}}~y)^\ast}~(\href{../syntax/modules.html#syntax-elemmode}{\mathsf{active}}~x~e) \\
\end{array}
} \\
&amp; &amp; | &amp; 3{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~{\mathit{rt}}{:}{\href{../binary/modules.html#binary-elemkind}{\mathtt{elemkind}}}~~{y^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-funcidx}{\mathtt{funcidx}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~{\mathit{rt}}~{(\href{../syntax/instructions.html#syntax-instr-ref}{\mathsf{ref{.}func}}~y)^\ast}~\href{../syntax/modules.html#syntax-elemmode}{\mathsf{declare}} \\
\end{array}
} \\
&amp; &amp; | &amp; 4{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~e_{\mathsf{o}}{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}~~{e^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~(\href{../syntax/types.html#syntax-reftype}{\mathsf{ref}}~\href{../syntax/types.html#syntax-reftype}{\mathsf{null}}~\href{../syntax/types.html#syntax-heaptype}{\mathsf{func}})~{e^\ast}~(\href{../syntax/modules.html#syntax-elemmode}{\mathsf{active}}~0~e_{\mathsf{o}}) \\
\end{array}
} \\
&amp; &amp; | &amp; 5{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~{\mathit{rt}}{:}{\href{../binary/types.html#binary-reftype}{\mathtt{reftype}}}~~{e^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~{\mathit{rt}}~{e^\ast}~\href{../syntax/modules.html#syntax-elemmode}{\mathsf{passive}} \\
\end{array}
} \\
&amp; &amp; | &amp; 6{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~x{:}{\href{../binary/modules.html#binary-tableidx}{\mathtt{tableidx}}}~~e_{\mathsf{o}}{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}~~{e^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~(\href{../syntax/types.html#syntax-reftype}{\mathsf{ref}}~\href{../syntax/types.html#syntax-reftype}{\mathsf{null}}~\href{../syntax/types.html#syntax-heaptype}{\mathsf{func}})~{e^\ast}~(\href{../syntax/modules.html#syntax-elemmode}{\mathsf{active}}~x~e_{\mathsf{o}}) \\
\end{array}
} \\
&amp; &amp; | &amp; 7{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~{\mathit{rt}}{:}{\href{../binary/types.html#binary-reftype}{\mathtt{reftype}}}~~{e^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}) &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-elem}{\mathsf{elem}}~{\mathit{rt}}~{e^\ast}~\href{../syntax/modules.html#syntax-elemmode}{\mathsf{declare}} \\
\end{array}
} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The initial integer can be interpreted as a bitfield.
Bit 0 distinguishes a passive or declarative segment from an active segment,
bit 1 indicates the presence of an explicit table index for an active segment and otherwise distinguishes passive from declarative segments,
bit 2 indicates the use of element type and element <a class="reference internal" href="instructions.html#binary-expr"><span class="std std-ref">expressions</span></a> instead of element kind and element indices.</p>
<p>Additional element kinds may be added in future versions of WebAssembly.</p>
</div>
</section>
<section id="code-section">
<span id="binary-codesec"></span><span id="binary-local"></span><span id="binary-func"></span><span id="binary-code"></span><span id="index-12"></span><h2>Code Section<a class="headerlink" href="#code-section" title="Link to this heading">¶</a></h2>
<p>The <em>code section</em> has the id 10.
It decodes into the list of <em>code</em> entries that are pairs of lists of <a class="reference internal" href="../syntax/conventions.html#syntax-list"><span class="std std-ref">locals</span></a> and <a class="reference internal" href="../syntax/instructions.html#syntax-expr"><span class="std std-ref">expressions</span></a>.
They represent the body of the <a class="reference internal" href="../syntax/modules.html#syntax-func"><span class="std std-ref">functions</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.
The types of the respective functions are encoded separately in the <a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function section</span></a>.</p>
<p>The encoding of each code entry consists of</p>
<ul class="simple">
<li><p>the <span class="math notranslate nohighlight">\({\href{../syntax/values.html#syntax-int}{\mathit{u\scriptstyle\kern-0.1em32}}}\)</span> <em>length</em> of the function code in bytes,</p></li>
<li><p>the actual <em>function code</em>, which in turn consists of</p>
<ul>
<li><p>the declaration of <em>locals</em>,</p></li>
<li><p>the function <em>body</em> as an <a class="reference internal" href="instructions.html#binary-expr"><span class="std std-ref">expression</span></a>.</p></li>
</ul>
</li>
</ul>
<p>Local declarations are compressed into a list whose entries consist of</p>
<ul class="simple">
<li><p>a <span class="math notranslate nohighlight">\({\href{../syntax/values.html#syntax-int}{\mathit{u\scriptstyle\kern-0.1em32}}}\)</span> <em>count</em>,</p></li>
<li><p>a <a class="reference internal" href="types.html#binary-valtype"><span class="std std-ref">value type</span></a>,</p></li>
</ul>
<p>denoting <em>count</em> locals of the same value type.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-codesec}{\mathtt{codesec}}} &amp; ::= &amp; {{\mathit{code}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{10}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-code}{\mathtt{code}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\mathit{code}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-code}{\mathtt{code}}} &amp; ::= &amp; {\mathit{len}}{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~{\mathit{code}}{:}{\href{../binary/modules.html#binary-func}{\mathtt{func}}} &amp; \quad\Rightarrow\quad{} &amp; {\mathit{code}} &amp; \quad \mbox{if}~ {\mathit{len}} = ||{\href{../binary/modules.html#binary-func}{\mathtt{func}}}|| \\
&amp; {\href{../binary/modules.html#binary-func}{\mathtt{func}}} &amp; ::= &amp; {{{\mathit{loc}}^\ast}^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-local}{\mathtt{locals}}})~~e{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}} &amp; \quad\Rightarrow\quad{} &amp; ({\href{../syntax/conventions.html#notation-concat}{\bigoplus}}\, {{{\mathit{loc}}^\ast}^\ast}, e) &amp; \quad \mbox{if}~ {|{\href{../syntax/conventions.html#notation-concat}{\bigoplus}}\, {{{\mathit{loc}}^\ast}^\ast}|} &lt; {2^{32}} \\
&amp; {\href{../binary/modules.html#binary-local}{\mathtt{locals}}} &amp; ::= &amp; n{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~t{:}{\href{../binary/types.html#binary-valtype}{\mathtt{valtype}}} &amp; \quad\Rightarrow\quad{} &amp; {(\href{../syntax/modules.html#syntax-local}{\mathsf{local}}~t)^{n}} \\
\end{array}\end{split}\]</div>
<p>Here, <span class="math notranslate nohighlight">\({\mathit{code}}\)</span> ranges over pairs <span class="math notranslate nohighlight">\(({{\href{../syntax/modules.html#syntax-local}{\mathit{local}}}^\ast}, {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})\)</span>.
Any code for which the length of the resulting sequence is out of bounds of the maximum size of a <a class="reference internal" href="../syntax/conventions.html#syntax-list"><span class="std std-ref">list</span></a> is malformed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Like with <a class="reference internal" href="#binary-section"><span class="std std-ref">sections</span></a>, the code <span class="math notranslate nohighlight">\({\mathit{size}}\)</span> is not needed for decoding, but can be used to skip functions when navigating through a binary.
The module is malformed if a size does not match the length of the respective function code.</p>
</div>
</section>
<section id="data-section">
<span id="binary-datasec"></span><span id="binary-data"></span><span id="index-13"></span><h2>Data Section<a class="headerlink" href="#data-section" title="Link to this heading">¶</a></h2>
<p>The <em>data section</em> has the id 11.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-data"><span class="std std-ref">data segments</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-datasec}{\mathtt{datasec}}} &amp; ::= &amp; {{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{11}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-data}{\mathtt{data}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-data}{\mathtt{data}}} &amp; ::= &amp; 0{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~e{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}~~{b^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/values.html#binary-byte}{\mathtt{byte}}}) &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-data}{\mathsf{data}}~{b^\ast}~(\href{../syntax/modules.html#syntax-datamode}{\mathsf{active}}~0~e) \\
&amp; &amp; | &amp; 1{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~{b^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/values.html#binary-byte}{\mathtt{byte}}}) &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-data}{\mathsf{data}}~{b^\ast}~\href{../syntax/modules.html#syntax-datamode}{\mathsf{passive}} \\
&amp; &amp; | &amp; 2{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}}~~x{:}{\href{../binary/modules.html#binary-memidx}{\mathtt{memidx}}}~~e{:}{\href{../binary/instructions.html#binary-expr}{\mathtt{expr}}}~~{b^\ast}{:}{\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/values.html#binary-byte}{\mathtt{byte}}}) &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-data}{\mathsf{data}}~{b^\ast}~(\href{../syntax/modules.html#syntax-datamode}{\mathsf{active}}~x~e) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The initial integer can be interpreted as a bitfield.
Bit 0 indicates a passive segment,
bit 1 indicates the presence of an explicit memory index for an active segment.</p>
</div>
</section>
<section id="data-count-section">
<span id="binary-datacnt"></span><span id="binary-datacntsec"></span><span id="index-14"></span><h2>Data Count Section<a class="headerlink" href="#data-count-section" title="Link to this heading">¶</a></h2>
<p>The <em>data count section</em> has the id 12.
It decodes into an optional <span class="math notranslate nohighlight">\({\href{../syntax/values.html#syntax-int}{\mathit{u\scriptstyle\kern-0.1em32}}}\)</span> count that represents the number of <a class="reference internal" href="../syntax/modules.html#syntax-data"><span class="std std-ref">data segments</span></a> in the <a class="reference internal" href="#binary-datasec"><span class="std std-ref">data section</span></a>.
If this count does not match the length of the data segment list, the module is malformed.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-datacntsec}{\mathtt{datacntsec}}} &amp; ::= &amp; {n^?}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{12}({\href{../binary/modules.html#binary-datacnt}{\mathtt{datacnt}}}) &amp; \quad\Rightarrow\quad{} &amp; {n^?} \\
&amp; {\href{../binary/modules.html#binary-datacnt}{\mathtt{datacnt}}} &amp; ::= &amp; n{:}{\href{../binary/values.html#binary-int}{\def\mathdef1790#1{{\mathtt{u}#1}}\mathdef1790{\mathtt{32}}}} &amp; \quad\Rightarrow\quad{} &amp; n \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The data count section is used to simplify single-pass validation. Since the
data section occurs after the code section, the <span class="math notranslate nohighlight">\(\mathsf{memory{.}init}\)</span> and
<span class="math notranslate nohighlight">\(\mathsf{data{.}drop}\)</span> instructions would not be able to check whether the data
segment index is valid until the data section is read. The data count section
occurs before the code section, so a single-pass validator can use this count
instead of deferring validation.</p>
</div>
</section>
<section id="tag-section">
<span id="binary-tagsec"></span><span id="binary-tag"></span><span id="index-15"></span><h2>Tag Section<a class="headerlink" href="#tag-section" title="Link to this heading">¶</a></h2>
<p>The <em>tag section</em> has the id 13.
It decodes into the list of <a class="reference internal" href="../syntax/modules.html#syntax-tag"><span class="std std-ref">tags</span></a> defined by a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-tagsec}{\mathtt{tagsec}}} &amp; ::= &amp; {{\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}^\ast}{:}{{\href{../binary/modules.html#binary-section}{\mathtt{section}}}}_{13}({\href{../binary/conventions.html#binary-list}{\mathtt{list}}}({\href{../binary/modules.html#binary-tag}{\mathtt{tag}}})) &amp; \quad\Rightarrow\quad{} &amp; {{\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}^\ast} \\
&amp; {\href{../binary/modules.html#binary-tag}{\mathtt{tag}}} &amp; ::= &amp; {\mathit{jt}}{:}{\href{../binary/types.html#binary-tagtype}{\mathtt{tagtype}}} &amp; \quad\Rightarrow\quad{} &amp; \href{../syntax/modules.html#syntax-tag}{\mathsf{tag}}~{\mathit{jt}} \\
\end{array}\end{split}\]</div>
</section>
<section id="binary-module">
<span id="binary-version"></span><span id="binary-magic"></span><span id="index-16"></span><span id="id1"></span><h2>Modules<a class="headerlink" href="#binary-module" title="Link to this heading">¶</a></h2>
<p>The encoding of a <a class="reference internal" href="../syntax/modules.html#syntax-module"><span class="std std-ref">module</span></a> starts with a preamble containing a 4-byte magic number (the string <span class="math notranslate nohighlight">\(\def\mathdef1827#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef1827{\backslash0asm}\)</span>) and a version field.
The current version of the WebAssembly binary format is 1.</p>
<p>The preamble is followed by a sequence of <a class="reference internal" href="#binary-section"><span class="std std-ref">sections</span></a>.
<a class="reference internal" href="#binary-customsec"><span class="std std-ref">Custom sections</span></a> may be inserted at any place in this sequence,
while other sections must occur at most once and in the prescribed order.
All sections can be empty.</p>
<p>The lengths of lists produced by the (possibly empty) <a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function</span></a> and <a class="reference internal" href="#binary-codesec"><span class="std std-ref">code</span></a> section must match up.</p>
<p>Similarly, the optional data count must match the length of the <a class="reference internal" href="#binary-datasec"><span class="std std-ref">data segment</span></a> list.
Furthermore, it must be present if any <a class="reference internal" href="../syntax/modules.html#syntax-dataidx"><span class="std std-ref">data index</span></a> occurs in the code section.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}[t]{&#64;{}l&#64;{}rrl&#64;{}l&#64;{}l&#64;{}l&#64;{}}
&amp; {\href{../binary/modules.html#binary-magic}{\mathtt{magic}}} &amp; ::= &amp; \mathtt{0x00}~~\mathtt{0x61}~~\mathtt{0x73}~~\mathtt{0x6D} \\
&amp; {\href{../binary/modules.html#binary-version}{\mathtt{version}}} &amp; ::= &amp; \mathtt{0x01}~~\mathtt{0x00}~~\mathtt{0x00}~~\mathtt{0x00} \\
&amp; {\href{../binary/modules.html#binary-module}{\mathtt{module}}} &amp; ::= &amp; \begin{array}[t]{&#64;{}l&#64;{}} {\href{../binary/modules.html#binary-magic}{\mathtt{magic}}}~~{\href{../binary/modules.html#binary-version}{\mathtt{version}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}{:}{\href{../binary/modules.html#binary-typesec}{\mathtt{typesec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-import}{\mathit{import}}}^\ast}{:}{\href{../binary/modules.html#binary-importsec}{\mathtt{importsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-typeidx}{\mathit{typeidx}}}^\ast}{:}{\href{../binary/modules.html#binary-funcsec}{\mathtt{funcsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-table}{\mathit{table}}}^\ast}{:}{\href{../binary/modules.html#binary-tablesec}{\mathtt{tablesec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}{:}{\href{../binary/modules.html#binary-memsec}{\mathtt{memsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}^\ast}{:}{\href{../binary/modules.html#binary-tagsec}{\mathtt{tagsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}{:}{\href{../binary/modules.html#binary-globalsec}{\mathtt{globalsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-export}{\mathit{export}}}^\ast}{:}{\href{../binary/modules.html#binary-exportsec}{\mathtt{exportsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-start}{\mathit{start}}}^?}{:}{\href{../binary/modules.html#binary-startsec}{\mathtt{startsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast}{:}{\href{../binary/modules.html#binary-elemsec}{\mathtt{elemsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{n^?}{:}{\href{../binary/modules.html#binary-datacntsec}{\mathtt{datacntsec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{({{\href{../syntax/modules.html#syntax-local}{\mathit{local}}}^\ast}, {\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})^\ast}{:}{\href{../binary/modules.html#binary-codesec}{\mathtt{codesec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast}~~{{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast}{:}{\href{../binary/modules.html#binary-datasec}{\mathtt{datasec}}} \\
  {{\href{../binary/modules.html#binary-customsec}{\mathtt{customsec}}}^\ast} \end{array} &amp; \quad\Rightarrow\quad{} &amp; &amp; \\
&amp;&amp;&amp; \multicolumn{4}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}l&#64;{}l&#64;{}}
\href{../syntax/modules.html#syntax-module}{\mathsf{module}}~{{\href{../syntax/types.html#syntax-rectype}{\mathit{type}}}^\ast}~{{\href{../syntax/modules.html#syntax-import}{\mathit{import}}}^\ast}~{{\href{../syntax/modules.html#syntax-tag}{\mathit{tag}}}^\ast}~{{\href{../syntax/modules.html#syntax-global}{\mathit{global}}}^\ast}~{{\href{../syntax/modules.html#syntax-mem}{\mathit{mem}}}^\ast}~{{\href{../syntax/modules.html#syntax-table}{\mathit{table}}}^\ast}~{{\href{../syntax/modules.html#syntax-func}{\mathit{func}}}^\ast}~{{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast}~{{\href{../syntax/modules.html#syntax-elem}{\mathit{elem}}}^\ast}~{{\href{../syntax/modules.html#syntax-start}{\mathit{start}}}^?}~{{\href{../syntax/modules.html#syntax-export}{\mathit{export}}}^\ast} &amp; &amp; \\
 \multicolumn{3}{&#64;{}l&#64;{}}{\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\quad
\begin{array}[t]{&#64;{}l&#64;{}}
\mbox{if}~ (n = {|{{\href{../syntax/modules.html#syntax-data}{\mathit{data}}}^\ast}|})^? \\
{\land}~ ({n^?} \neq \epsilon \lor {\href{../syntax/modules.html#syntax-dataidx}{\mathrm{dataidx}}}({{\href{../syntax/modules.html#syntax-func}{\mathit{func}}}^\ast}) = \epsilon) \\
{\land}~ ({\href{../syntax/modules.html#syntax-func}{\mathit{func}}} = \href{../syntax/modules.html#syntax-func}{\mathsf{func}}~{\href{../syntax/modules.html#syntax-typeidx}{\mathit{typeidx}}}~{{\href{../syntax/modules.html#syntax-local}{\mathit{local}}}^\ast}~{\href{../syntax/instructions.html#syntax-expr}{\mathit{expr}}})^\ast \\
\end{array} \\
\end{array}
} \\
\end{array}
} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The version of the WebAssembly binary format may increase in the future
if backward-incompatible changes have to be made to the format.
However, such changes are expected to occur very infrequently, if ever.
The binary format is intended to be extensible,
such that future features can be added without incrementing its version.</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2017-2025, WebAssembly Community Group.
      
    </div>

    

    
  </body>
</html>